{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "JusticeHub Environment Configuration Schema",
  "description": "Validates all environment variables for the JusticeHub platform",
  "type": "object",
  "properties": {
    "NODE_ENV": {
      "type": "string",
      "enum": ["development", "staging", "production", "test"],
      "description": "Application environment"
    },
    "APP_URL": {
      "type": "string",
      "format": "uri",
      "description": "Base URL of the application"
    },
    "API_URL": {
      "type": "string",
      "format": "uri",
      "description": "Base URL for API endpoints"
    },
    "PORT": {
      "type": "string",
      "pattern": "^[0-9]+$",
      "description": "Port number for the application"
    },
    "AUTH0_SECRET": {
      "type": "string",
      "minLength": 32,
      "description": "Auth0 session secret (32+ characters)"
    },
    "AUTH0_BASE_URL": {
      "type": "string",
      "format": "uri",
      "description": "Auth0 base URL"
    },
    "AUTH0_ISSUER_BASE_URL": {
      "type": "string",
      "format": "uri",
      "description": "Auth0 issuer base URL"
    },
    "AUTH0_CLIENT_ID": {
      "type": "string",
      "minLength": 1,
      "description": "Auth0 client ID"
    },
    "AUTH0_CLIENT_SECRET": {
      "type": "string",
      "minLength": 1,
      "description": "Auth0 client secret"
    },
    "DATABASE_URL": {
      "type": "string",
      "pattern": "^postgresql://",
      "description": "PostgreSQL database connection URL"
    },
    "SUPABASE_URL": {
      "type": "string",
      "format": "uri",
      "description": "Main Supabase project URL"
    },
    "SUPABASE_ANON_KEY": {
      "type": "string",
      "minLength": 1,
      "description": "Main Supabase anonymous key"
    },
    "SUPABASE_SERVICE_KEY": {
      "type": "string",
      "minLength": 1,
      "description": "Main Supabase service role key (admin access)"
    },
    "OPENAI_API_KEY": {
      "type": "string",
      "pattern": "^sk-",
      "description": "OpenAI API key for AI features"
    },
    "ANTHROPIC_API_KEY": {
      "type": "string",
      "pattern": "^sk-ant-",
      "description": "Anthropic Claude API key"
    },
    "PERPLEXITY_API_KEY": {
      "type": "string",
      "minLength": 1,
      "description": "Perplexity AI API key for research features"
    },
    "FIRECRAWL_API_KEY": {
      "type": "string",
      "pattern": "^fc-",
      "description": "Firecrawl API key for web scraping"
    },
    "AWS_ACCESS_KEY_ID": {
      "type": "string",
      "pattern": "^AKIA",
      "description": "AWS access key ID"
    },
    "AWS_SECRET_ACCESS_KEY": {
      "type": "string",
      "minLength": 1,
      "description": "AWS secret access key"
    },
    "SENDGRID_API_KEY": {
      "type": "string",
      "pattern": "^SG\\.",
      "description": "SendGrid API key for email"
    },
    "STRIPE_SECRET_KEY": {
      "type": "string",
      "pattern": "^sk_(test_|live_)",
      "description": "Stripe secret key"
    },
    "GOOGLE_ANALYTICS_ID": {
      "type": "string",
      "pattern": "^G-",
      "description": "Google Analytics 4 measurement ID"
    }
  },
  "required": [
    "NODE_ENV",
    "APP_URL",
    "PORT",
    "SUPABASE_URL",
    "SUPABASE_ANON_KEY"
  ],
  "additionalProperties": true
}