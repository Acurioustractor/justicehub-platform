// Government spending data from 2023-24 Queensland Department of Youth Justice expenditure 
export const governmentSpending = {
  // All suppliers from actual government expenditure data (168 funding records)
  suppliers: [
    { 
      name: 'Aboriginal and Torres Strait Islander Community Health Service Brisbane Limited', 
      abn: '22009943435',
      total: 1373726, 
      contracts: 4, 
      category: 'Cultural Support Services',
      services: ['Community Youth Response and Diversion', 'YJ Family Led Decision Making'],
      status: 'active',
      fundingPeriod: '2022-2028'
    },
    { 
      name: 'Bravehearts Foundation Limited', 
      abn: '41496913890',
      total: 567716, 
      contracts: 1, 
      category: 'Specialist Services',
      services: ['Restorative Justice Conferencing Support Service'],
      status: 'active',
      fundingPeriod: '2021-2026'
    },
    { 
      name: 'Bridges Health & Community Care Ltd', 
      abn: '45402866190',
      total: 284571, 
      contracts: 1, 
      category: 'Bail Support',
      services: ['U18 Bail Support Service'],
      status: 'active',
      fundingPeriod: '2021-2025'
    },
    { 
      name: 'Central Queensland Indigenous Development Ltd', 
      abn: '60110812489',
      total: 300000, 
      contracts: 1, 
      category: 'Family Support',
      services: ['Intensive Family Partnership Fraser Coast'],
      status: 'active',
      fundingPeriod: '2023-2024'
    },
    { 
      name: 'Civic Assist', 
      abn: '46156661273',
      total: 100000, 
      contracts: 1, 
      category: 'Youth Partnership',
      services: ['Youth Outreach (QYPI)'],
      status: 'active',
      fundingPeriod: '2023'
    },
    { 
      name: 'Community Sports Mentoring & Coaching Ltd', 
      abn: '62614085344',
      total: 1000000, 
      contracts: 1, 
      category: 'Sport Diversion',
      services: ['Big Bounce Initiative'],
      status: 'active',
      fundingPeriod: '2023-2025'
    },
    { 
      name: 'Darumbal Community Youth Service Inc', 
      abn: '55066537031',
      total: 491924, 
      contracts: 2, 
      category: 'Community Services',
      services: ['QYPI Rockhampton', 'Bail Support and Walali Bili Service'],
      status: 'active',
      fundingPeriod: '2021-2025'
    },
    { 
      name: 'Deadly Inspiring Youth Doing Good Aboriginal and Torres Strait Islander Corporation', 
      abn: '31213096805',
      total: 264000, 
      contracts: 1, 
      category: 'Cultural Support Services',
      services: ['Level Up Program'],
      status: 'active',
      fundingPeriod: '2023-2024'
    },
    { 
      name: 'Edmund Rice Education Australia Flexible Schools Ltd', 
      abn: '52659978846',
      total: 134281, 
      contracts: 1, 
      category: 'Education Services',
      services: ['Townsville Flexible Learning Centre - Burragah Program'],
      status: 'active',
      fundingPeriod: '2024'
    },
    { 
      name: 'Gold Coast Youth Service Inc', 
      abn: '98544197890',
      total: 573580, 
      contracts: 3, 
      category: 'Regional Services',
      services: ['QYPI Coomera and Helensvale', 'Project Street CRED', 'Community Youth Programs'],
      status: 'active',
      fundingPeriod: '2023-2024'
    },
    { 
      name: 'Goolburri Aboriginal Health Advancement', 
      abn: '33139659331',
      total: 253984, 
      contracts: 1, 
      category: 'Cultural Support Services',
      services: ['Youth Participation Program (YJ Family Led Decision Making)'],
      status: 'active',
      fundingPeriod: '2022-2026'
    },
    { 
      name: 'Gr8Motive Aboriginal and Torres Strait Islander Corporation', 
      abn: '11407494755',
      total: 563251, 
      contracts: 1, 
      category: 'Cultural Support Services',
      services: ['On Country Program - Townsville'],
      status: 'active',
      fundingPeriod: '2023-2024'
    },
    { 
      name: 'Griffith University', 
      abn: '78106094461',
      total: 1109920, 
      contracts: 1, 
      category: 'Research & Education',
      services: ['Griffith Youth Forensic Service'],
      status: 'active',
      fundingPeriod: '2021-2026'
    },
    { 
      name: 'ICYS Ipswich Community Youth Service Inc', 
      abn: '48301028154',
      total: 965957, 
      contracts: 1, 
      category: 'Community Services',
      services: ['Community Youth Response & Diversion - Ipswich'],
      status: 'active',
      fundingPeriod: '2024-2028'
    },
    { 
      name: 'Inspire Youth and Family Services', 
      abn: '43289699774',
      total: 711429, 
      contracts: 1, 
      category: 'Bail Support',
      services: ['SWAP Bail Support Service'],
      status: 'active',
      fundingPeriod: '2021-2025'
    },
    { 
      name: 'JABALBINA YALANJI ABORIGINAL CORPORATION RNTBC', 
      abn: '79611886178',
      total: 863243, 
      contracts: 2, 
      category: 'Cultural Support Services',
      services: ['Jabalbina Yalanji On Country', 'JOEYS Cultural Program'],
      status: 'active',
      fundingPeriod: '2023-2025'
    },
    { 
      name: 'JT Academy', 
      abn: '24618611475',
      total: 2200000, 
      contracts: 2, 
      category: 'Sport Diversion',
      services: ['Sport Diversion Programs', 'You Got This Program'],
      status: 'active',
      fundingPeriod: '2023-2024'
    },
    { 
      name: 'Kambu Aboriginal and Torres Strait Islander Corporation for Health', 
      abn: '83155632836',
      total: 224930, 
      contracts: 1, 
      category: 'Cultural Support Services',
      services: ['Cultural Mentoring Service'],
      status: 'active',
      fundingPeriod: '2023'
    },
    { 
      name: 'Kurbingui Youth Development Limited', 
      abn: '47298315697',
      total: 1912964, 
      contracts: 4, 
      category: 'Community Services',
      services: ['YJ Family Led Decision Making', 'Intensive Bail Initiative', 'QYPI', 'Community Youth Response Diversion'],
      status: 'active',
      fundingPeriod: '2021-2028'
    },
    { 
      name: 'Lifeline Darling Downs And South West Queensland Limited', 
      abn: '97075403959',
      total: 528148, 
      contracts: 1, 
      category: 'Support Services',
      services: ['Changing Lanes (YOSS)'],
      status: 'active',
      fundingPeriod: '2023-2027'
    },
    { 
      name: 'Mercy Community Services SEQ Limited', 
      abn: '51166477318',
      total: 443916, 
      contracts: 2, 
      category: 'Community Services',
      services: ['Cherbourg and South Burnett Youth Bail Support', 'Storyline Cherbourg'],
      status: 'active',
      fundingPeriod: '2021-2025'
    },
    { 
      name: 'Mission Australia', 
      abn: '15000002522',
      total: 722520, 
      contracts: 2, 
      category: 'Support Services',
      services: ['Strong Together & Resilient (STAR)', 'Deadly Me Program'],
      status: 'active',
      fundingPeriod: '2023-2027'
    },
    { 
      name: 'Murri Watch Aboriginal and Torres Strait Islanders Corporation', 
      abn: '75628946046',
      total: 1449408, 
      contracts: 2, 
      category: 'Cultural Support Services',
      services: ['Caboolture Watchhouse Support', 'Youth Cultural Support Program'],
      status: 'active',
      fundingPeriod: '2022-2024'
    },
    { 
      name: 'North West Queensland Indigenous Catholic Social Services Limited', 
      abn: '96636036934',
      total: 1878058, 
      contracts: 1, 
      category: 'Support Services',
      services: ['Mount Isa Transitional Youth Hub'],
      status: 'active',
      fundingPeriod: '2023-2027'
    },
    { 
      name: 'Palm Island Community Company Limited', 
      abn: '14640793728',
      total: 327452, 
      contracts: 1, 
      category: 'Support Services',
      services: ['Palm Island Young Offender Support Service'],
      status: 'active',
      fundingPeriod: '2023-2027'
    },
    { 
      name: 'Queensland Aboriginal and Torres Strait Islander Child Protection Peak Ltd', 
      abn: '21132666525',
      total: 537545, 
      contracts: 2, 
      category: 'Cultural Support Services',
      services: ['YJFLDM Training and Evaluation Support', 'Youth Justice Peak body'],
      status: 'active',
      fundingPeriod: '2022-2027'
    },
    { 
      name: 'Queensland African Communities Council', 
      abn: '20833580090',
      total: 320000, 
      contracts: 1, 
      category: 'Family Support',
      services: ['Intensive Family Partnership - African Community'],
      status: 'active',
      fundingPeriod: '2023-2024'
    },
    { 
      name: 'Redcliffe Area Youth Space Incorporated', 
      abn: '17724640741',
      total: 154895, 
      contracts: 1, 
      category: 'Bail Support',
      services: ['Remand Reduction Response'],
      status: 'active',
      fundingPeriod: '2021-2025'
    },
    { 
      name: 'Save The Children Australia', 
      abn: '99008610035',
      total: 2440258, 
      contracts: 8, 
      category: 'Support Services',
      services: ['Strong Culture Strong Tomorrow', 'Bail Support Services', 'Intensive Bail Initiative'],
      status: 'active',
      fundingPeriod: '2021-2025'
    },
    { 
      name: 'Sisters Inside Inc', 
      abn: '94859410728',
      total: 576658, 
      contracts: 1, 
      category: 'Support Services',
      services: ['Yangah Program (Bail Support-Gendered Response)'],
      status: 'active',
      fundingPeriod: '2021-2025'
    },
    { 
      name: 'The Base Support Services Inc', 
      abn: '19879103916',
      total: 438364, 
      contracts: 1, 
      category: 'Support Services',
      services: ['Family and Youth Support Service (FAYSS)'],
      status: 'active',
      fundingPeriod: '2023-2027'
    },
    { 
      name: 'The Corporation of the Roman Catholic Diocese of Toowoomba CatholicCare Social Services', 
      abn: '78793694389',
      total: 1342607, 
      contracts: 1, 
      category: 'Bail Support',
      services: ['Intensive Bail Initiative - Toowoomba'],
      status: 'active',
      fundingPeriod: '2023-2025'
    },
    { 
      name: 'The Corporation of the Synod of the Diocese of Brisbane', 
      abn: '39906010979',
      total: 2875420, 
      contracts: 2, 
      category: 'Bail Support',
      services: ['Anglicare Southern Queensland Intensive Bail Initiative - Gold Coast', 'Anglicare Southern Queensland Intensive Bail Initiative - Logan'],
      status: 'active',
      fundingPeriod: '2023-2028'
    },
    { 
      name: 'The Ted Noffs Foundation', 
      abn: '49018049971',
      total: 4031149, 
      contracts: 2, 
      category: 'Health Services',
      services: ['Alcohol and Drug Treatment Service (PALM)', 'Noffs Street University'],
      status: 'active',
      fundingPeriod: '2023-2025'
    },
    { 
      name: 'Townsville Aboriginal and Torres Strait Islander Corporation for Health Services', 
      abn: '66010113603',
      total: 4056088, 
      contracts: 6, 
      category: 'Cultural Support Services',
      services: ['Townsville IBI', 'Bail Support', 'The Lighthouse - After Hours Diversion', 'The Youth Hub - After Hours Diversion', 'Health Services'],
      status: 'active',
      fundingPeriod: '2021-2028'
    },
    { 
      name: 'Trustees of Edmund Rice Education Australia', 
      abn: '96372268340',
      total: 134281, 
      contracts: 1, 
      category: 'Education Services',
      services: ['Townsville Flexi-Learning Centre - Burragah Program'],
      status: 'active',
      fundingPeriod: '2023'
    },
    { 
      name: 'WuChopperen Health Service Ltd', 
      abn: '15010112580',
      total: 540922, 
      contracts: 2, 
      category: 'Health Services',
      services: ['Connecting Youth Service', 'YJ Family Led Decision Making Program'],
      status: 'active',
      fundingPeriod: '2022-2026'
    },
    { 
      name: 'Wulgurukaba Walkabouts', 
      abn: '11651541972',
      total: 145898, 
      contracts: 1, 
      category: 'Cultural Support Services',
      services: ['Townsville Cultural Mentoring Program'],
      status: 'active',
      fundingPeriod: '2023-2024'
    },
    { 
      name: 'Y-Care (South East Queensland) Inc', 
      abn: '85051706001',
      total: 67592, 
      contracts: 1, 
      category: 'Youth Partnership',
      services: ['QYPI Northlakes (Westfield)'],
      status: 'active',
      fundingPeriod: '2023-2024'
    },
    { 
      name: 'Youth Advocacy Centre Inc', 
      abn: '11746358763',
      total: 1954858, 
      contracts: 3, 
      category: 'Advocacy Services',
      services: ['Caboolture Watchhouse Support', 'Intensive Bail Initiative', 'Youth Advocacy'],
      status: 'active',
      fundingPeriod: '2023-2028'
    },
    { 
      name: 'Youth Empowered Towards Independence Inc', 
      abn: '34797758772',
      total: 1942734, 
      contracts: 5, 
      category: 'Support Services',
      services: ['Cairns and Yarrabah Youth Bail Support', 'Strong Together', 'Multi Agency Collaboration Panel', 'Diversion Service', 'Child Victim Support'],
      status: 'active',
      fundingPeriod: '2021-2027'
    },
    { 
      name: 'Cherbourg Wellbeing Indigenous Corporation', 
      abn: '55414872249',
      total: 158000, 
      contracts: 2, 
      category: 'Cultural Support Services',
      services: ['YOSS Cherbourg', 'Cherbourg Youth Programs'],
      status: 'active',
      fundingPeriod: '2024-2026'
    },
    { 
      name: 'Mirndiyan Gununa Aboriginal Corporation', 
      abn: '54626633931',
      total: 81750, 
      contracts: 1, 
      category: 'Support Services',
      services: ['YOSS Mornington Island'],
      status: 'active',
      fundingPeriod: '2024-2025'
    }
  ],

  // Service categories with total spending
  categories: {
    'Detention & Custody Services': { total: 18750000, suppliers: 5 },
    'Community Supervision': { total: 12340000, suppliers: 8 },
    'Support & Rehabilitation Services': { total: 8920000, suppliers: 15 },
    'Legal & Court Services': { total: 4830000, suppliers: 12 },
    'Education & Training': { total: 2970000, suppliers: 6 },
    'Health & Mental Health Services': { total: 2140000, suppliers: 8 },
    'Family & Community Support': { total: 1830000, suppliers: 11 },
    'Cultural & Indigenous Services': { total: 4230000, suppliers: 7 },
    'Sport & Recreation Diversion': { total: 1000000, suppliers: 3 }
  },

  // Funding status indicators
  fundingLevels: {
    'major': { min: 5000000, label: 'Major Funding', color: 'green' },
    'significant': { min: 1000000, label: 'Significant Funding', color: 'blue' },
    'moderate': { min: 500000, label: 'Moderate Funding', color: 'yellow' },
    'limited': { min: 100000, label: 'Limited Funding', color: 'orange' },
    'minimal': { min: 0, label: 'Minimal Funding', color: 'gray' }
  }
};

// Helper functions
export function getFundingLevel(amount) {
  const { fundingLevels } = governmentSpending;
  
  if (amount >= fundingLevels.major.min) return 'major';
  if (amount >= fundingLevels.significant.min) return 'significant';
  if (amount >= fundingLevels.moderate.min) return 'moderate';
  if (amount >= fundingLevels.limited.min) return 'limited';
  return 'minimal';
}

export function getSupplierByName(name, abn = null) {
  if (!name && !abn) return null;
  
  return governmentSpending.suppliers.find(supplier => {
    // Match by ABN first (most accurate)
    if (abn && supplier.abn === abn) {
      return true;
    }
    
    // Match by name (improved algorithm)
    if (name && supplier.name) {
      const supplierName = supplier.name.toLowerCase();
      const searchName = name.toLowerCase();
      
      // Exact match
      if (supplierName === searchName) return true;
      
      // Contains match (bidirectional)
      if (supplierName.includes(searchName) || searchName.includes(supplierName)) return true;
      
      // Remove common words and try again
      const cleanSupplierName = supplierName
        .replace(/\b(limited|ltd|inc|incorporated|pty|corporation|corp|foundation|services|service)\b/g, '')
        .replace(/\s+/g, ' ')
        .trim();
      const cleanSearchName = searchName
        .replace(/\b(limited|ltd|inc|incorporated|pty|corporation|corp|foundation|services|service)\b/g, '')
        .replace(/\s+/g, ' ')
        .trim();
      
      if (cleanSupplierName.includes(cleanSearchName) || cleanSearchName.includes(cleanSupplierName)) {
        return true;
      }
      
      // Split into words and check for significant overlap
      const supplierWords = cleanSupplierName.split(' ').filter(w => w.length > 3);
      const searchWords = cleanSearchName.split(' ').filter(w => w.length > 3);
      
      if (supplierWords.length > 0 && searchWords.length > 0) {
        const matchingWords = supplierWords.filter(word => 
          searchWords.some(searchWord => 
            word.includes(searchWord) || searchWord.includes(word)
          )
        );
        
        // At least 50% of words should match
        if (matchingWords.length >= Math.max(1, Math.min(supplierWords.length, searchWords.length) * 0.5)) {
          return true;
        }
      }
    }
    
    return false;
  });
}

export function getServicesByCategory(category) {
  return governmentSpending.suppliers.filter(supplier => 
    supplier.category.toLowerCase().includes(category.toLowerCase())
  );
}

export function formatCurrency(amount) {
  return new Intl.NumberFormat('en-AU', {
    style: 'currency',
    currency: 'AUD',
    minimumFractionDigits: 0,
    maximumFractionDigits: 0,
  }).format(amount);
}

export function getFundingStatusColor(level) {
  const colors = {
    'major': 'bg-green-100 text-green-800',
    'significant': 'bg-blue-100 text-blue-800',
    'moderate': 'bg-yellow-100 text-yellow-800',
    'limited': 'bg-orange-100 text-orange-800',
    'minimal': 'bg-gray-100 text-gray-800'
  };
  return colors[level] || colors.minimal;
}