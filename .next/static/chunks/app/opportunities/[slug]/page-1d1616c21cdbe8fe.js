(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7627],{87:function(e,s,a){Promise.resolve().then(a.bind(a,574))},574:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return D}});var t=a(7437),i=a(2265),r=a(6463),n=a(2727),l=a(8185),c=a(9733),o=a(9055),d=a(6864),m=a(1617),x=a(1266),u=a(4499),p=a(5733),h=a(5268),f=a(1510),j=a(9321),g=a(1077),v=a(933),N=a(1240),y=a(4241),b=a(2940),w=a(6780),k=a(4436),Z=a(3787),z=a(4086),C=a(7592),A=a(1935),E=a(7138),S=a(9846),O=a(5118),R=a(5524);function D(){var e;let s=(0,r.useParams)(),a=(0,r.useRouter)(),{user:D}=(0,n.SE)(),P=s.slug,[U,q]=(0,i.useState)(!1),{data:M,isLoading:Y,error:F,refetch:V}=(0,O.a)({queryKey:["opportunity",P],queryFn:async()=>{let e=await fetch("/api/opportunities?search=".concat(P,"&limit=1"));if(!e.ok)throw Error("Failed to search opportunity");let s=await e.json();if(!s.opportunities||0===s.opportunities.length)throw Error("Opportunity not found");let a=s.opportunities[0].id,t=await fetch("/api/opportunities/".concat(a));if(!t.ok)throw Error("Failed to fetch opportunity");return t.json()}}),_=(0,R.D)({mutationFn:async e=>{if(!M)return;let s=await fetch("/api/opportunities/".concat(M.id,"/save"),{method:e?"DELETE":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({})});if(!s.ok)throw Error("Failed to update saved status");return s.json()},onSuccess:()=>{V()}});if(Y)return(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto"}),(0,t.jsx)("p",{className:"mt-4 text-gray-600",children:"Loading opportunity..."})]})});if(F||!M)return(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,t.jsxs)(l.Zb,{children:[(0,t.jsxs)(l.Ol,{children:[(0,t.jsx)(l.ll,{children:"Opportunity Not Found"}),(0,t.jsx)(l.SZ,{children:"The opportunity you're looking for doesn't exist."})]}),(0,t.jsx)(l.aY,{children:(0,t.jsx)(c.z,{onClick:()=>a.push("/opportunities"),children:"Browse Opportunities"})})]})});let T=M.applicationDeadline?Math.ceil((new Date(M.applicationDeadline).getTime()-Date.now())/864e5):null,L=null!==T&&T<0,W=M.spotsAvailable<=0;return L||W||M.application,(0,t.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:(0,t.jsxs)("div",{className:"container mx-auto px-4 py-8 max-w-6xl",children:[(0,t.jsxs)(c.z,{variant:"ghost",size:"sm",onClick:()=>a.back(),className:"mb-6",children:[(0,t.jsx)(x.Z,{className:"h-4 w-4 mr-2"}),"Back to Opportunities"]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,t.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[(0,t.jsx)(l.Zb,{children:(0,t.jsxs)(l.aY,{className:"p-8",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,t.jsx)(o.C,{variant:"secondary",className:"text-sm",children:M.type}),M.featured&&(0,t.jsx)(o.C,{variant:"default",children:"Featured"}),M.application&&(0,t.jsx)(o.C,{variant:"success",children:M.application.status})]}),(0,t.jsx)("h1",{className:"text-3xl font-bold mb-4",children:M.title}),(0,t.jsxs)("div",{className:"flex items-center gap-4 text-gray-600",children:[(0,t.jsxs)(E.default,{href:"/organizations/".concat(M.organization.id),className:"flex items-center gap-2 hover:text-primary",children:[(0,t.jsx)(u.Z,{className:"h-5 w-5"}),M.organization.name]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(p.Z,{className:"h-5 w-5"}),M.viewCount," views"]})]})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(c.z,{variant:"outline",size:"icon",onClick:()=>_.mutate(M.saved),disabled:!D,children:(0,t.jsx)(h.Z,{className:"h-5 w-5 ".concat(M.saved?"fill-current":"")})}),(0,t.jsx)(c.z,{variant:"outline",size:"icon",children:(0,t.jsx)(f.Z,{className:"h-5 w-5"})})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 pt-6 border-t",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(j.Z,{className:"h-5 w-5 text-gray-400"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Location"}),(0,t.jsx)("p",{className:"font-medium",children:"remote"===M.location.type?"Remote":"".concat(M.location.city,", ").concat(M.location.state)})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(g.Z,{className:"h-5 w-5 text-gray-400"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Compensation"}),(0,t.jsx)("p",{className:"font-medium",children:"paid"===M.compensation.type&&M.compensation.amount?"$".concat(M.compensation.amount.toLocaleString()," ").concat(M.compensation.frequency):M.compensation.type})]})]}),M.duration&&(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(v.Z,{className:"h-5 w-5 text-gray-400"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Duration"}),(0,t.jsxs)("p",{className:"font-medium",children:[M.duration.length," ",M.duration.unit]})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(N.Z,{className:"h-5 w-5 text-gray-400"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Availability"}),(0,t.jsxs)("p",{className:"font-medium",children:[M.spotsAvailable," of ",M.spots," spots"]})]})]}),M.applicationDeadline&&(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(y.Z,{className:"h-5 w-5 text-gray-400"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Application Deadline"}),(0,t.jsxs)("p",{className:"font-medium ".concat(L?"text-red-600":T&&T<7?"text-orange-600":""),children:[(0,S.WU)(new Date(M.applicationDeadline),"MMMM d, yyyy"),null!==T&&(0,t.jsxs)("span",{className:"text-sm ml-1",children:["(",L?"Expired":"".concat(T," days left"),")"]})]})]})]}),M.startDate&&(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(y.Z,{className:"h-5 w-5 text-gray-400"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Start Date"}),(0,t.jsx)("p",{className:"font-medium",children:(0,S.WU)(new Date(M.startDate),"MMMM d, yyyy")})]})]})]})]})}),(0,t.jsxs)(d.mQ,{defaultValue:"overview",className:"space-y-6",children:[(0,t.jsxs)(d.dr,{className:"grid grid-cols-4 w-full",children:[(0,t.jsx)(d.SP,{value:"overview",children:"Overview"}),(0,t.jsx)(d.SP,{value:"requirements",children:"Requirements"}),(0,t.jsx)(d.SP,{value:"application",children:"Application"}),(0,t.jsx)(d.SP,{value:"organization",children:"Organization"})]}),(0,t.jsxs)(d.nU,{value:"overview",children:[(0,t.jsxs)(l.Zb,{children:[(0,t.jsx)(l.Ol,{children:(0,t.jsx)(l.ll,{children:"Description"})}),(0,t.jsx)(l.aY,{children:(0,t.jsx)("div",{className:"prose prose-lg dark:prose-invert max-w-none",children:M.description.split("\n").map((e,s)=>(0,t.jsx)("p",{children:e},s))})})]}),M.responsibilities.length>0&&(0,t.jsxs)(l.Zb,{children:[(0,t.jsx)(l.Ol,{children:(0,t.jsx)(l.ll,{children:"Responsibilities"})}),(0,t.jsx)(l.aY,{children:(0,t.jsx)("ul",{className:"space-y-2",children:M.responsibilities.map((e,s)=>(0,t.jsxs)("li",{className:"flex items-start gap-2",children:[(0,t.jsx)(b.Z,{className:"h-5 w-5 text-green-500 mt-0.5 flex-shrink-0"}),(0,t.jsx)("span",{children:e})]},s))})})]}),M.benefits.length>0&&(0,t.jsxs)(l.Zb,{children:[(0,t.jsx)(l.Ol,{children:(0,t.jsx)(l.ll,{children:"Benefits"})}),(0,t.jsx)(l.aY,{children:(0,t.jsx)("ul",{className:"space-y-2",children:M.benefits.map((e,s)=>(0,t.jsxs)("li",{className:"flex items-start gap-2",children:[(0,t.jsx)(b.Z,{className:"h-5 w-5 text-primary mt-0.5 flex-shrink-0"}),(0,t.jsx)("span",{children:e})]},s))})})]})]}),(0,t.jsx)(d.nU,{value:"requirements",children:(0,t.jsxs)(l.Zb,{children:[(0,t.jsx)(l.Ol,{children:(0,t.jsx)(l.ll,{children:"Requirements"})}),(0,t.jsxs)(l.aY,{className:"space-y-6",children:[M.requirements.length>0&&(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-medium mb-3",children:"Required"}),(0,t.jsx)("ul",{className:"space-y-2",children:M.requirements.map((e,s)=>(0,t.jsxs)("li",{className:"flex items-start gap-2",children:[(0,t.jsx)(b.Z,{className:"h-5 w-5 text-red-500 mt-0.5 flex-shrink-0"}),(0,t.jsx)("span",{children:e})]},s))})]}),M.qualifications.length>0&&(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-medium mb-3",children:"Preferred Qualifications"}),(0,t.jsx)("ul",{className:"space-y-2",children:M.qualifications.map((e,s)=>(0,t.jsxs)("li",{className:"flex items-start gap-2",children:[(0,t.jsx)(b.Z,{className:"h-5 w-5 text-blue-500 mt-0.5 flex-shrink-0"}),(0,t.jsx)("span",{children:e})]},s))})]}),M.skills.length>0&&(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-medium mb-3",children:"Required Skills"}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:M.skills.map((e,s)=>(0,t.jsx)(o.C,{variant:"secondary",children:e},s))})]}),(M.minAge||M.maxAge)&&(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-medium mb-3",children:"Age Requirements"}),(0,t.jsxs)("p",{children:[M.minAge&&"Minimum age: ".concat(M.minAge),M.minAge&&M.maxAge&&" â€¢ ",M.maxAge&&"Maximum age: ".concat(M.maxAge)]})]}),M.eligibilityCriteria.length>0&&(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-medium mb-3",children:"Eligibility Criteria"}),(0,t.jsx)("ul",{className:"space-y-2",children:M.eligibilityCriteria.map((e,s)=>(0,t.jsxs)("li",{className:"flex items-start gap-2",children:[(0,t.jsx)(w.Z,{className:"h-5 w-5 text-orange-500 mt-0.5 flex-shrink-0"}),(0,t.jsx)("span",{children:e})]},s))})]})]})]})}),(0,t.jsx)(d.nU,{value:"application",children:(0,t.jsxs)(l.Zb,{children:[(0,t.jsx)(l.Ol,{children:(0,t.jsx)(l.ll,{children:"How to Apply"})}),(0,t.jsxs)(l.aY,{className:"space-y-4",children:[M.applicationInstructions&&(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-medium mb-2",children:"Instructions"}),(0,t.jsx)("p",{className:"text-gray-700 dark:text-gray-300",children:M.applicationInstructions})]}),(0,t.jsxs)("div",{className:"space-y-3",children:[M.applicationUrl&&(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(k.Z,{className:"h-5 w-5 text-gray-400"}),(0,t.jsxs)("a",{href:M.applicationUrl,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline flex items-center gap-1",children:["Apply on External Website",(0,t.jsx)(Z.Z,{className:"h-4 w-4"})]})]}),M.applicationEmail&&(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(z.Z,{className:"h-5 w-5 text-gray-400"}),(0,t.jsx)("a",{href:"mailto:".concat(M.applicationEmail),className:"text-primary hover:underline",children:M.applicationEmail})]})]}),M.contactName&&(0,t.jsxs)("div",{className:"pt-4 border-t",children:[(0,t.jsx)("h4",{className:"font-medium mb-2",children:"Contact Person"}),(0,t.jsx)("p",{className:"font-medium",children:M.contactName}),M.contactEmail&&(0,t.jsx)("a",{href:"mailto:".concat(M.contactEmail),className:"text-sm text-primary hover:underline",children:M.contactEmail}),M.contactPhone&&(0,t.jsx)("p",{className:"text-sm text-gray-600",children:M.contactPhone})]})]})]})}),(0,t.jsx)(d.nU,{value:"organization",children:(0,t.jsxs)(l.Zb,{children:[(0,t.jsx)(l.Ol,{children:(0,t.jsxs)(l.ll,{children:["About ",M.organization.name]})}),(0,t.jsxs)(l.aY,{children:[(0,t.jsx)("p",{className:"text-gray-700 dark:text-gray-300 mb-4",children:M.organization.description||"No description available."}),(0,t.jsx)(E.default,{href:"/organizations/".concat(M.organization.id),children:(0,t.jsxs)(c.z,{variant:"outline",children:["View Organization Profile",(0,t.jsx)(C.Z,{className:"h-4 w-4 ml-1"})]})})]})]})})]})]}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)(l.Zb,{className:"sticky top-4",children:[(0,t.jsx)(l.Ol,{children:(0,t.jsx)(l.ll,{children:"Ready to Apply?"})}),(0,t.jsxs)(l.aY,{className:"space-y-4",children:[L?(0,t.jsxs)("div",{className:"text-center py-4",children:[(0,t.jsx)(A.Z,{className:"h-12 w-12 mx-auto mb-2 text-red-500"}),(0,t.jsx)("p",{className:"text-red-600 font-medium",children:"Application Deadline Passed"})]}):W?(0,t.jsxs)("div",{className:"text-center py-4",children:[(0,t.jsx)(A.Z,{className:"h-12 w-12 mx-auto mb-2 text-gray-400"}),(0,t.jsx)("p",{className:"text-gray-600 font-medium",children:"No Spots Available"})]}):M.application?(0,t.jsxs)("div",{className:"text-center py-4",children:[(0,t.jsx)(b.Z,{className:"h-12 w-12 mx-auto mb-2 text-green-500"}),(0,t.jsx)("p",{className:"text-green-600 font-medium mb-2",children:"Application Submitted"}),(0,t.jsxs)("p",{className:"text-sm text-gray-600",children:["Status: ",M.application.status]}),M.application.submittedAt&&(0,t.jsxs)("p",{className:"text-xs text-gray-500",children:["Submitted ",(0,S.WU)(new Date(M.application.submittedAt),"MMM d, yyyy")]})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-sm text-gray-600",children:"Spots Available"}),(0,t.jsxs)("span",{className:"font-medium",children:[M.spotsAvailable,"/",M.spots]})]}),(0,t.jsx)(m.E,{value:(M.spots-M.spotsAvailable)/M.spots*100})]}),M.applicationDeadline&&null!==T&&(0,t.jsx)("div",{className:"text-center py-2 px-3 rounded-lg ".concat(T<3?"bg-red-50 text-red-700":T<7?"bg-orange-50 text-orange-700":"bg-blue-50 text-blue-700"),children:(0,t.jsxs)("p",{className:"font-medium",children:[T," days left to apply"]})}),D?M.applicationUrl?(0,t.jsx)("a",{href:M.applicationUrl,target:"_blank",rel:"noopener noreferrer",className:"block",children:(0,t.jsxs)(c.z,{className:"w-full",size:"lg",children:["Apply Now",(0,t.jsx)(Z.Z,{className:"h-4 w-4 ml-2"})]})}):(0,t.jsx)(c.z,{className:"w-full",size:"lg",onClick:()=>q(!0),children:"Apply Now"}):(0,t.jsx)(E.default,{href:"/auth/signin",children:(0,t.jsx)(c.z,{className:"w-full",size:"lg",children:"Sign In to Apply"})})]}),M.tags.length>0&&(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium mb-2",children:"Tags"}),(0,t.jsx)("div",{className:"flex flex-wrap gap-1",children:M.tags.map((e,s)=>(0,t.jsx)(o.C,{variant:"outline",className:"text-xs",children:e},s))})]})]})]}),(null===(e=M.similarOpportunities)||void 0===e?void 0:e.length)>0&&(0,t.jsxs)(l.Zb,{children:[(0,t.jsx)(l.Ol,{children:(0,t.jsx)(l.ll,{className:"text-base",children:"Similar Opportunities"})}),(0,t.jsx)(l.aY,{className:"space-y-3",children:M.similarOpportunities.map(e=>(0,t.jsxs)(E.default,{href:"/opportunities/".concat(e.id),className:"block hover:bg-gray-50 dark:hover:bg-gray-800 p-3 rounded-lg -m-3",children:[(0,t.jsx)("h4",{className:"font-medium text-sm mb-1 line-clamp-1",children:e.title}),(0,t.jsxs)("p",{className:"text-xs text-gray-600",children:[e.organization," â€¢ ","remote"===e.location.type?"Remote":e.location.city]})]},e.id))})]})]})]})]})})}},9055:function(e,s,a){"use strict";a.d(s,{C:function(){return l}});var t=a(7437);a(2265);var i=a(3027),r=a(9354);let n=(0,i.j)("inline-flex items-center rounded-sm border px-2 py-0.5 text-xs font-medium transition-colors focus:outline-none focus:ring-1 focus:ring-ring focus:ring-offset-1",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"text-foreground border-current"}},defaultVariants:{variant:"default"}});function l(e){let{className:s,variant:a,...i}=e;return(0,t.jsx)("div",{className:(0,r.cn)(n({variant:a}),s),...i})}},9733:function(e,s,a){"use strict";a.d(s,{z:function(){return o}});var t=a(7437),i=a(2265),r=a(1538),n=a(3027),l=a(9354);let c=(0,n.j)("inline-flex items-center justify-center whitespace-nowrap rounded-sm text-sm font-medium ring-offset-background transition-all duration-200 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring focus-visible:ring-offset-1 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/90",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-sm px-3",lg:"h-11 rounded-sm px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),o=i.forwardRef((e,s)=>{let{className:a,variant:i,size:n,asChild:o=!1,...d}=e,m=o?r.g7:"button";return(0,t.jsx)(m,{className:(0,l.cn)(c({variant:i,size:n,className:a})),ref:s,...d})});o.displayName="Button"},8185:function(e,s,a){"use strict";a.d(s,{Ol:function(){return l},SZ:function(){return o},Zb:function(){return n},aY:function(){return d},ll:function(){return c}});var t=a(7437),i=a(2265),r=a(9354);let n=i.forwardRef((e,s)=>{let{className:a,...i}=e;return(0,t.jsx)("div",{ref:s,className:(0,r.cn)("rounded-sm border bg-card text-card-foreground",a),...i})});n.displayName="Card";let l=i.forwardRef((e,s)=>{let{className:a,...i}=e;return(0,t.jsx)("div",{ref:s,className:(0,r.cn)("flex flex-col space-y-1.5 p-6",a),...i})});l.displayName="CardHeader";let c=i.forwardRef((e,s)=>{let{className:a,...i}=e;return(0,t.jsx)("h3",{ref:s,className:(0,r.cn)("text-2xl font-semibold leading-none tracking-tight",a),...i})});c.displayName="CardTitle";let o=i.forwardRef((e,s)=>{let{className:a,...i}=e;return(0,t.jsx)("p",{ref:s,className:(0,r.cn)("text-sm text-muted-foreground",a),...i})});o.displayName="CardDescription";let d=i.forwardRef((e,s)=>{let{className:a,...i}=e;return(0,t.jsx)("div",{ref:s,className:(0,r.cn)("p-6 pt-0",a),...i})});d.displayName="CardContent",i.forwardRef((e,s)=>{let{className:a,...i}=e;return(0,t.jsx)("div",{ref:s,className:(0,r.cn)("flex items-center p-6 pt-0",a),...i})}).displayName="CardFooter"},1617:function(e,s,a){"use strict";a.d(s,{E:function(){return l}});var t=a(7437),i=a(2265),r=a(2431),n=a(9354);let l=i.forwardRef((e,s)=>{let{className:a,value:i,...l}=e;return(0,t.jsx)(r.fC,{ref:s,className:(0,n.cn)("relative h-4 w-full overflow-hidden rounded-full bg-secondary",a),...l,children:(0,t.jsx)(r.z$,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:"translateX(-".concat(100-(i||0),"%)")}})})});l.displayName=r.fC.displayName},6864:function(e,s,a){"use strict";a.d(s,{SP:function(){return o},dr:function(){return c},mQ:function(){return l},nU:function(){return d}});var t=a(7437),i=a(2265),r=a(2447),n=a(9354);let l=r.fC,c=i.forwardRef((e,s)=>{let{className:a,...i}=e;return(0,t.jsx)(r.aV,{ref:s,className:(0,n.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",a),...i})});c.displayName=r.aV.displayName;let o=i.forwardRef((e,s)=>{let{className:a,...i}=e;return(0,t.jsx)(r.xz,{ref:s,className:(0,n.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",a),...i})});o.displayName=r.xz.displayName;let d=i.forwardRef((e,s)=>{let{className:a,...i}=e;return(0,t.jsx)(r.VY,{ref:s,className:(0,n.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",a),...i})});d.displayName=r.VY.displayName},2727:function(e,s,a){"use strict";a.d(s,{SE:function(){return c},dr:function(){return l}});var t=a(7437),i=a(2265),r=a(6853);let n=(0,i.createContext)(void 0);function l(e){var s;let{children:a}=e,{user:l,error:c,isLoading:o}=(0,r.aF)(),[d,m]=(0,i.useState)(null),[x,u]=(0,i.useState)(!0),[p,h]=(0,i.useState)(null),f=async()=>{if(!l){m(null),u(!1);return}try{let e=await fetch("/api/users/profile");if(!e.ok)throw Error("Failed to fetch user profile");let s=await e.json();m(s)}catch(e){h(e instanceof Error?e:Error("Unknown error"))}finally{u(!1)}};(0,i.useEffect)(()=>{o||f()},[l,o,!1]),!d||(null===(s=d.profile)||void 0===s?void 0:s.name)&&d.role&&d.role;let j=async()=>{u(!0),await f()},g=(null==d?void 0:d.role)||"youth";return(0,t.jsx)(n.Provider,{value:{user:d,isLoading:x||o,error:p||c,role:g,refreshUser:j},children:a})}function c(){let e=(0,i.useContext)(n);if(void 0===e)throw Error("useUserContext must be used within a UserProvider");return e}},9354:function(e,s,a){"use strict";a.d(s,{cn:function(){return r}});var t=a(4839),i=a(6164);function r(){for(var e=arguments.length,s=Array(e),a=0;a<e;a++)s[a]=arguments[a];return(0,i.m6)((0,t.W)(s))}}},function(e){e.O(0,[4485,8089,231,6853,2447,9846,1336,5118,7778,2971,7023,1744],function(){return e(e.s=87)}),_N_E=e.O()}]);