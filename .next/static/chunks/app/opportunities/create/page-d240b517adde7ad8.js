(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1911],{7763:function(e,t,i){Promise.resolve().then(i.bind(i,5963))},5963:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return w}});var s=i(7437),n=i(2265),a=i(6463),r=i(2727),l=i(8185),o=i(9733),c=i(7209),d=i(4919),u=i(402),m=i(9888),p=i(112),h=i(9055),x=i(1266),f=i(4697),j=i(2513),v=i(1976),g=i(9061),y=i(994),b=i(9846);let N=[{value:"job",label:"Job"},{value:"internship",label:"Internship"},{value:"apprenticeship",label:"Apprenticeship"},{value:"volunteer",label:"Volunteer"},{value:"education",label:"Education"},{value:"workshop",label:"Workshop"},{value:"mentorship",label:"Mentorship"},{value:"scholarship",label:"Scholarship"},{value:"program",label:"Program"}];function w(){let e=(0,a.useRouter)(),{user:t,isLoading:i}=(0,r.SE)(),[w,C]=(0,n.useState)(!1),[k,_]=(0,n.useState)(1),[A,F]=(0,n.useState)({title:"",type:"",shortDescription:"",description:"",locationType:"remote",city:"",state:"",address:"",durationType:"fixed",duration:"",durationUnit:"months",hoursPerWeek:"",schedule:"full-time",startDate:"",endDate:"",applicationDeadline:"",applicationUrl:"",applicationEmail:"",applicationInstructions:"",compensationType:"unpaid",compensationAmount:"",compensationCurrency:"USD",compensationFrequency:"hourly",requirements:[""],qualifications:[""],responsibilities:[""],benefits:[""],skills:[""],tags:[""],minAge:"",maxAge:"",eligibilityCriteria:[""],spots:"1",contactName:"",contactEmail:"",contactPhone:"",status:"draft"});if(i)return(0,s.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,s.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})});if(!t||"organization_staff"!==t.role)return(0,s.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,s.jsxs)(l.Zb,{children:[(0,s.jsxs)(l.Ol,{children:[(0,s.jsx)(l.ll,{children:"Organization Access Only"}),(0,s.jsx)(l.SZ,{children:"Only organization staff can create opportunities."})]}),(0,s.jsx)(l.aY,{children:(0,s.jsx)(o.z,{onClick:()=>e.push("/opportunities"),children:"Browse Opportunities"})})]})});let D=(e,t)=>{F(i=>({...i,[e]:t}))},I=(e,t,i)=>{F(s=>({...s,[e]:s[e].map((e,s)=>s===t?i:e)}))},T=e=>{F(t=>({...t,[e]:[...t[e],""]}))},E=(e,t)=>{F(i=>({...i,[e]:i[e].filter((e,i)=>i!==t)}))},q=async t=>{C(!0);try{let i={...A,status:t,requirements:A.requirements.filter(e=>e.trim()),qualifications:A.qualifications.filter(e=>e.trim()),responsibilities:A.responsibilities.filter(e=>e.trim()),benefits:A.benefits.filter(e=>e.trim()),skills:A.skills.filter(e=>e.trim()),tags:A.tags.filter(e=>e.trim()),eligibilityCriteria:A.eligibilityCriteria.filter(e=>e.trim()),location:{type:A.locationType,city:A.city||null,state:A.state||null,address:A.address||null},duration:"ongoing"!==A.durationType?{type:A.durationType,length:A.duration?parseInt(A.duration):null,unit:A.durationUnit,hoursPerWeek:A.hoursPerWeek?parseInt(A.hoursPerWeek):null,schedule:A.schedule}:null,compensation:{type:A.compensationType,amount:A.compensationAmount?parseFloat(A.compensationAmount):null,currency:A.compensationCurrency,frequency:A.compensationFrequency},spots:parseInt(A.spots),minAge:A.minAge?parseInt(A.minAge):null,maxAge:A.maxAge?parseInt(A.maxAge):null},s=await fetch("/api/opportunities",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)});if(!s.ok){let e=await s.json();throw Error(e.error||"Failed to create opportunity")}let n=await s.json();"active"===t?alert("Opportunity published successfully!"):alert("Opportunity saved as draft!"),e.push("/opportunities/".concat(n.opportunity.slug))}catch(e){alert(e.message||"Failed to create opportunity")}finally{C(!1)}},R=e=>{switch(e){case 1:return A.title&&A.type&&A.shortDescription&&A.description;case 2:return"remote"===A.locationType||A.city&&A.state;case 3:case 5:default:return!0;case 4:return A.requirements.some(e=>e.trim())}};return(0,s.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:(0,s.jsxs)("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:[(0,s.jsxs)("div",{className:"mb-8",children:[(0,s.jsxs)(o.z,{variant:"ghost",size:"sm",onClick:()=>e.back(),className:"mb-4",children:[(0,s.jsx)(x.Z,{className:"h-4 w-4 mr-2"}),"Back"]}),(0,s.jsx)("h1",{className:"text-3xl font-bold mb-2",children:"Create New Opportunity"}),(0,s.jsx)("p",{className:"text-gray-600",children:"Post an opportunity for youth in your community"})]}),(0,s.jsxs)("div",{className:"mb-8",children:[(0,s.jsx)("div",{className:"flex items-center justify-between mb-2",children:[void 0,void 0,void 0,void 0,void 0].map((e,t)=>(0,s.jsx)("div",{className:"flex-1 h-2 mx-1 rounded-full ".concat(t+1<=k?"bg-primary":"bg-gray-200")},t))}),(0,s.jsxs)("p",{className:"text-sm text-gray-600 text-center",children:["Step ",k," of ",5]})]}),(0,s.jsx)(l.Zb,{children:(0,s.jsxs)(l.aY,{className:"p-8",children:[1===k&&(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Basic Information"}),(0,s.jsxs)("div",{children:[(0,s.jsx)(u._,{htmlFor:"title",children:"Opportunity Title *"}),(0,s.jsx)(c.I,{id:"title",value:A.title,onChange:e=>D("title",e.target.value),placeholder:"e.g., Summer Web Development Internship"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(u._,{htmlFor:"type",children:"Type *"}),(0,s.jsxs)(m.Ph,{value:A.type,onValueChange:e=>D("type",e),children:[(0,s.jsx)(m.i4,{children:(0,s.jsx)(m.ki,{placeholder:"Select opportunity type"})}),(0,s.jsx)(m.Bw,{children:N.map(e=>(0,s.jsx)(m.Ql,{value:e.value,children:e.label},e.value))})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(u._,{htmlFor:"shortDescription",children:"Short Description *"}),(0,s.jsx)(d.g,{id:"shortDescription",value:A.shortDescription,onChange:e=>D("shortDescription",e.target.value),placeholder:"Brief overview of the opportunity (1-2 sentences)",rows:2})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(u._,{htmlFor:"description",children:"Full Description *"}),(0,s.jsx)(d.g,{id:"description",value:A.description,onChange:e=>D("description",e.target.value),placeholder:"Detailed description of the opportunity",rows:8})]})]}),2===k&&(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Location & Schedule"}),(0,s.jsxs)("div",{children:[(0,s.jsx)(u._,{children:"Location Type *"}),(0,s.jsxs)(p.E,{value:A.locationType,onValueChange:e=>D("locationType",e),children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(p.m,{value:"remote",id:"remote"}),(0,s.jsx)("label",{htmlFor:"remote",children:"Remote"})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(p.m,{value:"onsite",id:"onsite"}),(0,s.jsx)("label",{htmlFor:"onsite",children:"On-site"})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(p.m,{value:"hybrid",id:"hybrid"}),(0,s.jsx)("label",{htmlFor:"hybrid",children:"Hybrid"})]})]})]}),"remote"!==A.locationType&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(u._,{htmlFor:"city",children:"City *"}),(0,s.jsx)(c.I,{id:"city",value:A.city,onChange:e=>D("city",e.target.value)})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(u._,{htmlFor:"state",children:"State *"}),(0,s.jsx)(c.I,{id:"state",value:A.state,onChange:e=>D("state",e.target.value)})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(u._,{htmlFor:"address",children:"Address (Optional)"}),(0,s.jsx)(c.I,{id:"address",value:A.address,onChange:e=>D("address",e.target.value)})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(u._,{children:"Duration Type"}),(0,s.jsxs)(m.Ph,{value:A.durationType,onValueChange:e=>D("durationType",e),children:[(0,s.jsx)(m.i4,{children:(0,s.jsx)(m.ki,{})}),(0,s.jsxs)(m.Bw,{children:[(0,s.jsx)(m.Ql,{value:"fixed",children:"Fixed Duration"}),(0,s.jsx)(m.Ql,{value:"ongoing",children:"Ongoing"}),(0,s.jsx)(m.Ql,{value:"flexible",children:"Flexible"})]})]})]}),"fixed"===A.durationType&&(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(u._,{htmlFor:"duration",children:"Duration"}),(0,s.jsx)(c.I,{id:"duration",type:"number",value:A.duration,onChange:e=>D("duration",e.target.value)})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(u._,{children:"Unit"}),(0,s.jsxs)(m.Ph,{value:A.durationUnit,onValueChange:e=>D("durationUnit",e),children:[(0,s.jsx)(m.i4,{children:(0,s.jsx)(m.ki,{})}),(0,s.jsxs)(m.Bw,{children:[(0,s.jsx)(m.Ql,{value:"weeks",children:"Weeks"}),(0,s.jsx)(m.Ql,{value:"months",children:"Months"}),(0,s.jsx)(m.Ql,{value:"years",children:"Years"})]})]})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(u._,{htmlFor:"startDate",children:"Start Date"}),(0,s.jsx)(c.I,{id:"startDate",type:"date",value:A.startDate,onChange:e=>D("startDate",e.target.value)})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(u._,{htmlFor:"endDate",children:"End Date"}),(0,s.jsx)(c.I,{id:"endDate",type:"date",value:A.endDate,onChange:e=>D("endDate",e.target.value)})]})]})]}),3===k&&(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Application & Compensation"}),(0,s.jsxs)("div",{children:[(0,s.jsx)(u._,{htmlFor:"applicationDeadline",children:"Application Deadline"}),(0,s.jsx)(c.I,{id:"applicationDeadline",type:"date",value:A.applicationDeadline,onChange:e=>D("applicationDeadline",e.target.value)})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(u._,{htmlFor:"applicationUrl",children:"External Application URL"}),(0,s.jsx)(c.I,{id:"applicationUrl",type:"url",value:A.applicationUrl,onChange:e=>D("applicationUrl",e.target.value),placeholder:"https://..."})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(u._,{htmlFor:"applicationEmail",children:"Application Email"}),(0,s.jsx)(c.I,{id:"applicationEmail",type:"email",value:A.applicationEmail,onChange:e=>D("applicationEmail",e.target.value)})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(u._,{htmlFor:"applicationInstructions",children:"Application Instructions"}),(0,s.jsx)(d.g,{id:"applicationInstructions",value:A.applicationInstructions,onChange:e=>D("applicationInstructions",e.target.value),rows:3})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(u._,{children:"Compensation Type"}),(0,s.jsxs)(p.E,{value:A.compensationType,onValueChange:e=>D("compensationType",e),children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(p.m,{value:"unpaid",id:"unpaid"}),(0,s.jsx)("label",{htmlFor:"unpaid",children:"Unpaid"})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(p.m,{value:"paid",id:"paid"}),(0,s.jsx)("label",{htmlFor:"paid",children:"Paid"})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(p.m,{value:"stipend",id:"stipend"}),(0,s.jsx)("label",{htmlFor:"stipend",children:"Stipend"})]})]})]}),"unpaid"!==A.compensationType&&(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(u._,{htmlFor:"compensationAmount",children:"Amount"}),(0,s.jsx)(c.I,{id:"compensationAmount",type:"number",value:A.compensationAmount,onChange:e=>D("compensationAmount",e.target.value)})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(u._,{children:"Frequency"}),(0,s.jsxs)(m.Ph,{value:A.compensationFrequency,onValueChange:e=>D("compensationFrequency",e),children:[(0,s.jsx)(m.i4,{children:(0,s.jsx)(m.ki,{})}),(0,s.jsxs)(m.Bw,{children:[(0,s.jsx)(m.Ql,{value:"hourly",children:"Hourly"}),(0,s.jsx)(m.Ql,{value:"weekly",children:"Weekly"}),(0,s.jsx)(m.Ql,{value:"monthly",children:"Monthly"}),(0,s.jsx)(m.Ql,{value:"one-time",children:"One-time"})]})]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(u._,{htmlFor:"spots",children:"Number of Spots Available"}),(0,s.jsx)(c.I,{id:"spots",type:"number",min:"1",value:A.spots,onChange:e=>D("spots",e.target.value)})]})]}),4===k&&(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Requirements & Qualifications"}),(0,s.jsxs)("div",{children:[(0,s.jsx)(u._,{children:"Requirements *"}),(0,s.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:"What are the must-have requirements?"}),A.requirements.map((e,t)=>(0,s.jsxs)("div",{className:"flex gap-2 mb-2",children:[(0,s.jsx)(c.I,{value:e,onChange:e=>I("requirements",t,e.target.value),placeholder:"e.g., Must be 18+ years old"}),A.requirements.length>1&&(0,s.jsx)(o.z,{type:"button",variant:"ghost",size:"icon",onClick:()=>E("requirements",t),children:(0,s.jsx)(f.Z,{className:"h-4 w-4"})})]},t)),(0,s.jsxs)(o.z,{type:"button",variant:"outline",size:"sm",onClick:()=>T("requirements"),children:[(0,s.jsx)(j.Z,{className:"h-4 w-4 mr-1"}),"Add Requirement"]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(u._,{children:"Preferred Qualifications"}),A.qualifications.map((e,t)=>(0,s.jsxs)("div",{className:"flex gap-2 mb-2",children:[(0,s.jsx)(c.I,{value:e,onChange:e=>I("qualifications",t,e.target.value),placeholder:"e.g., Experience with React"}),A.qualifications.length>1&&(0,s.jsx)(o.z,{type:"button",variant:"ghost",size:"icon",onClick:()=>E("qualifications",t),children:(0,s.jsx)(f.Z,{className:"h-4 w-4"})})]},t)),(0,s.jsxs)(o.z,{type:"button",variant:"outline",size:"sm",onClick:()=>T("qualifications"),children:[(0,s.jsx)(j.Z,{className:"h-4 w-4 mr-1"}),"Add Qualification"]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(u._,{children:"Skills Required"}),(0,s.jsx)("div",{className:"flex flex-wrap gap-2 mb-2",children:A.skills.filter(e=>e.trim()).map((e,t)=>(0,s.jsxs)(h.C,{variant:"secondary",children:[e,(0,s.jsx)("button",{type:"button",onClick:()=>E("skills",t),className:"ml-1",children:(0,s.jsx)(f.Z,{className:"h-3 w-3"})})]},t))}),(0,s.jsx)("div",{className:"flex gap-2",children:(0,s.jsx)(c.I,{placeholder:"Add a skill",onKeyPress:e=>{if("Enter"===e.key){e.preventDefault();let t=e.target;t.value.trim()&&(I("skills",A.skills.length-1,t.value),T("skills"),t.value="")}}})})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(u._,{htmlFor:"minAge",children:"Minimum Age"}),(0,s.jsx)(c.I,{id:"minAge",type:"number",min:"13",value:A.minAge,onChange:e=>D("minAge",e.target.value)})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(u._,{htmlFor:"maxAge",children:"Maximum Age"}),(0,s.jsx)(c.I,{id:"maxAge",type:"number",max:"30",value:A.maxAge,onChange:e=>D("maxAge",e.target.value)})]})]})]}),5===k&&(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Contact & Review"}),(0,s.jsxs)("div",{children:[(0,s.jsx)(u._,{htmlFor:"contactName",children:"Contact Person Name"}),(0,s.jsx)(c.I,{id:"contactName",value:A.contactName,onChange:e=>D("contactName",e.target.value)})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(u._,{htmlFor:"contactEmail",children:"Contact Email"}),(0,s.jsx)(c.I,{id:"contactEmail",type:"email",value:A.contactEmail,onChange:e=>D("contactEmail",e.target.value)})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(u._,{htmlFor:"contactPhone",children:"Contact Phone"}),(0,s.jsx)(c.I,{id:"contactPhone",type:"tel",value:A.contactPhone,onChange:e=>D("contactPhone",e.target.value)})]}),(0,s.jsxs)(l.Zb,{className:"bg-gray-50 dark:bg-gray-800",children:[(0,s.jsx)(l.Ol,{children:(0,s.jsx)(l.ll,{className:"text-lg",children:"Review Your Opportunity"})}),(0,s.jsxs)(l.aY,{className:"space-y-2 text-sm",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"font-medium",children:"Title:"})," ",A.title]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"font-medium",children:"Type:"})," ",A.type]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"font-medium",children:"Location:"})," ","remote"===A.locationType?"Remote":"".concat(A.city,", ").concat(A.state)]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"font-medium",children:"Compensation:"})," ","unpaid"===A.compensationType?"Unpaid":A.compensationAmount?"$".concat(A.compensationAmount," ").concat(A.compensationFrequency):A.compensationType]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"font-medium",children:"Spots:"})," ",A.spots]}),A.applicationDeadline&&(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"font-medium",children:"Application Deadline:"})," ",(0,b.WU)(new Date(A.applicationDeadline),"MMMM d, yyyy")]})]})]})]}),(0,s.jsxs)("div",{className:"flex justify-between mt-8",children:[(0,s.jsxs)(o.z,{type:"button",variant:"outline",onClick:()=>_(e=>Math.max(1,e-1)),disabled:1===k,children:[(0,s.jsx)(x.Z,{className:"h-4 w-4 mr-2"}),"Previous"]}),k<5?(0,s.jsxs)(o.z,{type:"button",onClick:()=>_(e=>Math.min(5,e+1)),disabled:!R(k),children:["Next",(0,s.jsx)(v.Z,{className:"h-4 w-4 ml-2"})]}):(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsxs)(o.z,{type:"button",variant:"outline",onClick:()=>q("draft"),disabled:w,children:[(0,s.jsx)(g.Z,{className:"h-4 w-4 mr-2"}),"Save as Draft"]}),(0,s.jsxs)(o.z,{type:"button",onClick:()=>q("active"),disabled:w||!R(4),children:[(0,s.jsx)(y.Z,{className:"h-4 w-4 mr-2"}),"Publish Opportunity"]})]})]})]})})]})})}},9055:function(e,t,i){"use strict";i.d(t,{C:function(){return l}});var s=i(7437);i(2265);var n=i(3027),a=i(9354);let r=(0,n.j)("inline-flex items-center rounded-sm border px-2 py-0.5 text-xs font-medium transition-colors focus:outline-none focus:ring-1 focus:ring-ring focus:ring-offset-1",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"text-foreground border-current"}},defaultVariants:{variant:"default"}});function l(e){let{className:t,variant:i,...n}=e;return(0,s.jsx)("div",{className:(0,a.cn)(r({variant:i}),t),...n})}},9733:function(e,t,i){"use strict";i.d(t,{z:function(){return c}});var s=i(7437),n=i(2265),a=i(1538),r=i(3027),l=i(9354);let o=(0,r.j)("inline-flex items-center justify-center whitespace-nowrap rounded-sm text-sm font-medium ring-offset-background transition-all duration-200 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring focus-visible:ring-offset-1 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/90",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-sm px-3",lg:"h-11 rounded-sm px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=n.forwardRef((e,t)=>{let{className:i,variant:n,size:r,asChild:c=!1,...d}=e,u=c?a.g7:"button";return(0,s.jsx)(u,{className:(0,l.cn)(o({variant:n,size:r,className:i})),ref:t,...d})});c.displayName="Button"},8185:function(e,t,i){"use strict";i.d(t,{Ol:function(){return l},SZ:function(){return c},Zb:function(){return r},aY:function(){return d},ll:function(){return o}});var s=i(7437),n=i(2265),a=i(9354);let r=n.forwardRef((e,t)=>{let{className:i,...n}=e;return(0,s.jsx)("div",{ref:t,className:(0,a.cn)("rounded-sm border bg-card text-card-foreground",i),...n})});r.displayName="Card";let l=n.forwardRef((e,t)=>{let{className:i,...n}=e;return(0,s.jsx)("div",{ref:t,className:(0,a.cn)("flex flex-col space-y-1.5 p-6",i),...n})});l.displayName="CardHeader";let o=n.forwardRef((e,t)=>{let{className:i,...n}=e;return(0,s.jsx)("h3",{ref:t,className:(0,a.cn)("text-2xl font-semibold leading-none tracking-tight",i),...n})});o.displayName="CardTitle";let c=n.forwardRef((e,t)=>{let{className:i,...n}=e;return(0,s.jsx)("p",{ref:t,className:(0,a.cn)("text-sm text-muted-foreground",i),...n})});c.displayName="CardDescription";let d=n.forwardRef((e,t)=>{let{className:i,...n}=e;return(0,s.jsx)("div",{ref:t,className:(0,a.cn)("p-6 pt-0",i),...n})});d.displayName="CardContent",n.forwardRef((e,t)=>{let{className:i,...n}=e;return(0,s.jsx)("div",{ref:t,className:(0,a.cn)("flex items-center p-6 pt-0",i),...n})}).displayName="CardFooter"},7209:function(e,t,i){"use strict";i.d(t,{I:function(){return r}});var s=i(7437),n=i(2265),a=i(9354);let r=n.forwardRef((e,t)=>{let{className:i,type:n,...r}=e;return(0,s.jsx)("input",{type:n,className:(0,a.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",i),ref:t,...r})});r.displayName="Input"},402:function(e,t,i){"use strict";i.d(t,{_:function(){return c}});var s=i(7437),n=i(2265),a=i(8364),r=i(3027),l=i(9354);let o=(0,r.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=n.forwardRef((e,t)=>{let{className:i,...n}=e;return(0,s.jsx)(a.f,{ref:t,className:(0,l.cn)(o(),i),...n})});c.displayName=a.f.displayName},112:function(e,t,i){"use strict";i.d(t,{E:function(){return o},m:function(){return c}});var s=i(7437),n=i(2265),a=i(9497),r=i(8165),l=i(9354);let o=n.forwardRef((e,t)=>{let{className:i,...n}=e;return(0,s.jsx)(a.fC,{className:(0,l.cn)("grid gap-2",i),...n,ref:t})});o.displayName=a.fC.displayName;let c=n.forwardRef((e,t)=>{let{className:i,...n}=e;return(0,s.jsx)(a.ck,{ref:t,className:(0,l.cn)("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",i),...n,children:(0,s.jsx)(a.z$,{className:"flex items-center justify-center",children:(0,s.jsx)(r.Z,{className:"h-2.5 w-2.5 fill-current text-current"})})})});c.displayName=a.ck.displayName},9888:function(e,t,i){"use strict";i.d(t,{Bw:function(){return x},Ph:function(){return d},Ql:function(){return f},i4:function(){return m},ki:function(){return u}});var s=i(7437),n=i(2265),a=i(771),r=i(2421),l=i(4392),o=i(2468),c=i(9354);let d=a.fC;a.ZA;let u=a.B4,m=n.forwardRef((e,t)=>{let{className:i,children:n,...l}=e;return(0,s.jsxs)(a.xz,{ref:t,className:(0,c.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",i),...l,children:[n,(0,s.jsx)(a.JO,{asChild:!0,children:(0,s.jsx)(r.Z,{className:"h-4 w-4 opacity-50"})})]})});m.displayName=a.xz.displayName;let p=n.forwardRef((e,t)=>{let{className:i,...n}=e;return(0,s.jsx)(a.u_,{ref:t,className:(0,c.cn)("flex cursor-default items-center justify-center py-1",i),...n,children:(0,s.jsx)(l.Z,{className:"h-4 w-4"})})});p.displayName=a.u_.displayName;let h=n.forwardRef((e,t)=>{let{className:i,...n}=e;return(0,s.jsx)(a.$G,{ref:t,className:(0,c.cn)("flex cursor-default items-center justify-center py-1",i),...n,children:(0,s.jsx)(r.Z,{className:"h-4 w-4"})})});h.displayName=a.$G.displayName;let x=n.forwardRef((e,t)=>{let{className:i,children:n,position:r="popper",...l}=e;return(0,s.jsx)(a.h_,{children:(0,s.jsxs)(a.VY,{ref:t,className:(0,c.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===r&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",i),position:r,...l,children:[(0,s.jsx)(p,{}),(0,s.jsx)(a.l_,{className:(0,c.cn)("p-1","popper"===r&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:n}),(0,s.jsx)(h,{})]})})});x.displayName=a.VY.displayName,n.forwardRef((e,t)=>{let{className:i,...n}=e;return(0,s.jsx)(a.__,{ref:t,className:(0,c.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",i),...n})}).displayName=a.__.displayName;let f=n.forwardRef((e,t)=>{let{className:i,children:n,...r}=e;return(0,s.jsxs)(a.ck,{ref:t,className:(0,c.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",i),...r,children:[(0,s.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,s.jsx)(a.wU,{children:(0,s.jsx)(o.Z,{className:"h-4 w-4"})})}),(0,s.jsx)(a.eT,{children:n})]})});f.displayName=a.ck.displayName,n.forwardRef((e,t)=>{let{className:i,...n}=e;return(0,s.jsx)(a.Z0,{ref:t,className:(0,c.cn)("-mx-1 my-1 h-px bg-muted",i),...n})}).displayName=a.Z0.displayName},4919:function(e,t,i){"use strict";i.d(t,{g:function(){return r}});var s=i(7437),n=i(2265),a=i(9354);let r=n.forwardRef((e,t)=>{let{className:i,...n}=e;return(0,s.jsx)("textarea",{className:(0,a.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",i),ref:t,...n})});r.displayName="Textarea"},2727:function(e,t,i){"use strict";i.d(t,{SE:function(){return o},dr:function(){return l}});var s=i(7437),n=i(2265),a=i(6853);let r=(0,n.createContext)(void 0);function l(e){var t;let{children:i}=e,{user:l,error:o,isLoading:c}=(0,a.aF)(),[d,u]=(0,n.useState)(null),[m,p]=(0,n.useState)(!0),[h,x]=(0,n.useState)(null),f=async()=>{if(!l){u(null),p(!1);return}try{let e=await fetch("/api/users/profile");if(!e.ok)throw Error("Failed to fetch user profile");let t=await e.json();u(t)}catch(e){x(e instanceof Error?e:Error("Unknown error"))}finally{p(!1)}};(0,n.useEffect)(()=>{c||f()},[l,c,!1]),!d||(null===(t=d.profile)||void 0===t?void 0:t.name)&&d.role&&d.role;let j=async()=>{p(!0),await f()},v=(null==d?void 0:d.role)||"youth";return(0,s.jsx)(r.Provider,{value:{user:d,isLoading:m||c,error:h||o,role:v,refreshUser:j},children:i})}function o(){let e=(0,n.useContext)(r);if(void 0===e)throw Error("useUserContext must be used within a UserProvider");return e}},9354:function(e,t,i){"use strict";i.d(t,{cn:function(){return a}});var s=i(4839),n=i(6164);function a(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];return(0,n.m6)((0,s.W)(t))}}},function(e){e.O(0,[4485,8089,6853,9846,9439,6573,2971,7023,1744],function(){return e(e.s=7763)}),_N_E=e.O()}]);