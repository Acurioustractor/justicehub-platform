(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3458],{5352:function(e,r,t){Promise.resolve().then(t.bind(t,2928))},1266:function(e,r,t){"use strict";t.d(r,{Z:function(){return n}});/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,t(8030).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},4241:function(e,r,t){"use strict";t.d(r,{Z:function(){return n}});/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,t(8030).Z)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},933:function(e,r,t){"use strict";t.d(r,{Z:function(){return n}});/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,t(8030).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},5733:function(e,r,t){"use strict";t.d(r,{Z:function(){return n}});/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,t(8030).Z)("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},4042:function(e,r,t){"use strict";t.d(r,{Z:function(){return n}});/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,t(8030).Z)("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]])},7583:function(e,r,t){"use strict";t.d(r,{Z:function(){return n}});/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,t(8030).Z)("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]])},1510:function(e,r,t){"use strict";t.d(r,{Z:function(){return n}});/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,t(8030).Z)("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]])},500:function(e,r,t){"use strict";t.d(r,{Z:function(){return n}});/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,t(8030).Z)("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]])},6649:function(e,r,t){"use strict";t.d(r,{Z:function(){return n}});/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,t(8030).Z)("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]])},6717:function(e,r,t){"use strict";t.d(r,{Z:function(){return n}});/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,t(8030).Z)("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]])},7138:function(e,r,t){"use strict";t.d(r,{default:function(){return s.a}});var n=t(231),s=t.n(n)},6463:function(e,r,t){"use strict";var n=t(1169);t.o(n,"useParams")&&t.d(r,{useParams:function(){return n.useParams}}),t.o(n,"useRouter")&&t.d(r,{useRouter:function(){return n.useRouter}}),t.o(n,"useSearchParams")&&t.d(r,{useSearchParams:function(){return n.useSearchParams}})},2928:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return j}});var n=t(7437),s=t(2265),a=t(6463),i=t(9733),c=t(8185),o=t(9055),l=t(9973),d=t(1266),u=t(5733),f=t(500),m=t(4241),h=t(933),x=t(6717),y=t(4042),v=t(7583),p=t(1510),g=t(6649),b=t(7138);function j(){let e=(0,a.useParams)();(0,a.useRouter)();let[r,t]=(0,s.useState)(null),[j,N]=(0,s.useState)(!0),[w,k]=(0,s.useState)(null);(0,s.useEffect)(()=>{Z()},[e.id]);let Z=async()=>{try{let r=await fetch("/api/stories/".concat(e.id));if(!r.ok)throw Error("Failed to fetch story");let n=await r.json();t(n)}catch(e){k(e instanceof Error?e.message:"Unknown error")}finally{N(!1)}};if(j)return(0,n.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,n.jsxs)("div",{className:"text-center",children:[(0,n.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto"}),(0,n.jsx)("p",{className:"mt-4 text-gray-600",children:"Loading story..."})]})});if(w||!r)return(0,n.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,n.jsxs)("div",{className:"text-center",children:[(0,n.jsx)("h2",{className:"text-2xl font-bold mb-2",children:"Story Not Found"}),(0,n.jsx)("p",{className:"text-gray-600 mb-4",children:w||"The story you are looking for does not exist."}),(0,n.jsx)(b.default,{href:"/dashboard",children:(0,n.jsxs)(i.z,{children:[(0,n.jsx)(d.Z,{className:"h-4 w-4 mr-2"}),"Back to Dashboard"]})})]})});let z=r.content.replace(/<[^>]*>/g,"").trim().split(/\s+/).filter(e=>e.length>0).length;return(0,n.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:(0,n.jsxs)("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:[(0,n.jsx)("div",{className:"mb-6",children:(0,n.jsx)(b.default,{href:"/dashboard",children:(0,n.jsxs)(i.z,{variant:"ghost",size:"sm",children:[(0,n.jsx)(d.Z,{className:"h-4 w-4 mr-2"}),"Back to Dashboard"]})})}),(0,n.jsx)(c.Zb,{className:"mb-8",children:(0,n.jsxs)(c.aY,{className:"p-0",children:[(0,n.jsxs)("article",{className:"prose prose-lg dark:prose-invert max-w-none p-8",children:[(0,n.jsxs)("header",{className:"not-prose mb-8",children:[(0,n.jsx)("h1",{className:"text-3xl font-bold mb-4",children:r.title}),(0,n.jsxs)("div",{className:"flex flex-wrap items-center gap-4 text-sm text-gray-600 dark:text-gray-400",children:[(0,n.jsxs)("div",{className:"flex items-center gap-1",children:[(0,n.jsx)(m.Z,{className:"h-4 w-4"}),(0,n.jsx)("span",{children:new Date(r.publishedAt||r.createdAt).toLocaleDateString()})]}),(0,n.jsxs)("div",{className:"flex items-center gap-1",children:[(0,n.jsx)(h.Z,{className:"h-4 w-4"}),(0,n.jsxs)("span",{children:[Math.ceil(z/200)," min read"]})]}),(0,n.jsx)(o.C,{variant:"outline",className:"capitalize",children:r.storyType}),(0,n.jsxs)("div",{className:"flex items-center gap-1",children:[(()=>{switch(r.visibility){case"public":return(0,n.jsx)(u.Z,{className:"h-4 w-4"});case"private":case"organization":case"mentors":return(0,n.jsx)(f.Z,{className:"h-4 w-4"});default:return null}})(),(0,n.jsx)("span",{children:(()=>{switch(r.visibility){case"public":return"Public";case"private":return"Private";case"organization":return"Organization Only";case"mentors":return"Mentors Only";case"anonymous":return"Anonymous";default:return r.visibility}})()})]})]}),r.tags&&r.tags.length>0&&(0,n.jsx)("div",{className:"flex flex-wrap gap-2 mt-4",children:r.tags.map(e=>(0,n.jsxs)(o.C,{variant:"secondary",children:[(0,n.jsx)(x.Z,{className:"h-3 w-3 mr-1"}),e]},e))})]}),(0,n.jsx)(l.Z,{className:"my-8"}),(0,n.jsx)("div",{className:"story-content",dangerouslySetInnerHTML:{__html:r.content}})]}),(0,n.jsx)("div",{className:"border-t p-6",children:(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsxs)("div",{className:"flex items-center gap-4",children:[(0,n.jsxs)(i.z,{variant:"ghost",size:"sm",children:[(0,n.jsx)(y.Z,{className:"h-4 w-4 mr-2"}),"Like"]}),(0,n.jsxs)(i.z,{variant:"ghost",size:"sm",children:[(0,n.jsx)(v.Z,{className:"h-4 w-4 mr-2"}),"Comment"]}),(0,n.jsxs)(i.z,{variant:"ghost",size:"sm",children:[(0,n.jsx)(p.Z,{className:"h-4 w-4 mr-2"}),"Share"]})]}),(0,n.jsxs)(i.z,{variant:"outline",size:"sm",children:[(0,n.jsx)(g.Z,{className:"h-4 w-4 mr-2"}),"Edit Story"]})]})})]})})]})})}},9055:function(e,r,t){"use strict";t.d(r,{C:function(){return c}});var n=t(7437);t(2265);var s=t(3027),a=t(9354);let i=(0,s.j)("inline-flex items-center rounded-sm border px-2 py-0.5 text-xs font-medium transition-colors focus:outline-none focus:ring-1 focus:ring-ring focus:ring-offset-1",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"text-foreground border-current"}},defaultVariants:{variant:"default"}});function c(e){let{className:r,variant:t,...s}=e;return(0,n.jsx)("div",{className:(0,a.cn)(i({variant:t}),r),...s})}},9733:function(e,r,t){"use strict";t.d(r,{z:function(){return l}});var n=t(7437),s=t(2265),a=t(1538),i=t(3027),c=t(9354);let o=(0,i.j)("inline-flex items-center justify-center whitespace-nowrap rounded-sm text-sm font-medium ring-offset-background transition-all duration-200 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring focus-visible:ring-offset-1 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/90",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-sm px-3",lg:"h-11 rounded-sm px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),l=s.forwardRef((e,r)=>{let{className:t,variant:s,size:i,asChild:l=!1,...d}=e,u=l?a.g7:"button";return(0,n.jsx)(u,{className:(0,c.cn)(o({variant:s,size:i,className:t})),ref:r,...d})});l.displayName="Button"},8185:function(e,r,t){"use strict";t.d(r,{Ol:function(){return c},SZ:function(){return l},Zb:function(){return i},aY:function(){return d},ll:function(){return o}});var n=t(7437),s=t(2265),a=t(9354);let i=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,n.jsx)("div",{ref:r,className:(0,a.cn)("rounded-sm border bg-card text-card-foreground",t),...s})});i.displayName="Card";let c=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,n.jsx)("div",{ref:r,className:(0,a.cn)("flex flex-col space-y-1.5 p-6",t),...s})});c.displayName="CardHeader";let o=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,n.jsx)("h3",{ref:r,className:(0,a.cn)("text-2xl font-semibold leading-none tracking-tight",t),...s})});o.displayName="CardTitle";let l=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,n.jsx)("p",{ref:r,className:(0,a.cn)("text-sm text-muted-foreground",t),...s})});l.displayName="CardDescription";let d=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,n.jsx)("div",{ref:r,className:(0,a.cn)("p-6 pt-0",t),...s})});d.displayName="CardContent",s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,n.jsx)("div",{ref:r,className:(0,a.cn)("flex items-center p-6 pt-0",t),...s})}).displayName="CardFooter"},9973:function(e,r,t){"use strict";t.d(r,{Z:function(){return c}});var n=t(7437),s=t(2265),a=t(8484),i=t(9354);let c=s.forwardRef((e,r)=>{let{className:t,orientation:s="horizontal",decorative:c=!0,...o}=e;return(0,n.jsx)(a.f,{ref:r,decorative:c,orientation:s,className:(0,i.cn)("shrink-0 bg-border","horizontal"===s?"h-[1px] w-full":"h-full w-[1px]",t),...o})});c.displayName=a.f.displayName},9354:function(e,r,t){"use strict";t.d(r,{cn:function(){return a}});var n=t(4839),s=t(6164);function a(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return(0,s.m6)((0,n.W)(r))}},5171:function(e,r,t){"use strict";t.d(r,{WV:function(){return c},jH:function(){return o}});var n=t(2265),s=t(4887),a=t(1538),i=t(7437),c=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,r)=>{let t=(0,a.Z8)(`Primitive.${r}`),s=n.forwardRef((e,n)=>{let{asChild:s,...a}=e,c=s?t:r;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,i.jsx)(c,{...a,ref:n})});return s.displayName=`Primitive.${r}`,{...e,[r]:s}},{});function o(e,r){e&&s.flushSync(()=>e.dispatchEvent(r))}},8484:function(e,r,t){"use strict";t.d(r,{f:function(){return l}});var n=t(2265),s=t(5171),a=t(7437),i="horizontal",c=["horizontal","vertical"],o=n.forwardRef((e,r)=>{let{decorative:t,orientation:n=i,...o}=e,l=c.includes(n)?n:i;return(0,a.jsx)(s.WV.div,{"data-orientation":l,...t?{role:"none"}:{"aria-orientation":"vertical"===l?l:void 0,role:"separator"},...o,ref:r})});o.displayName="Separator";var l=o}},function(e){e.O(0,[4485,231,2971,7023,1744],function(){return e(e.s=5352)}),_N_E=e.O()}]);