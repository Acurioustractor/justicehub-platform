(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7702],{4335:function(e,r,t){Promise.resolve().then(t.bind(t,1789))},4436:function(e,r,t){"use strict";t.d(r,{Z:function(){return s}});/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,t(8030).Z)("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]])},500:function(e,r,t){"use strict";t.d(r,{Z:function(){return s}});/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,t(8030).Z)("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]])},6649:function(e,r,t){"use strict";t.d(r,{Z:function(){return s}});/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,t(8030).Z)("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]])},1902:function(e,r,t){"use strict";t.d(r,{Z:function(){return s}});/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,t(8030).Z)("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]])},5016:function(e,r,t){"use strict";t.d(r,{Z:function(){return s}});/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,t(8030).Z)("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]])},1240:function(e,r,t){"use strict";t.d(r,{Z:function(){return s}});/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,t(8030).Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},7138:function(e,r,t){"use strict";t.d(r,{default:function(){return a.a}});var s=t(231),a=t.n(s)},6463:function(e,r,t){"use strict";var s=t(1169);t.o(s,"useParams")&&t.d(r,{useParams:function(){return s.useParams}}),t.o(s,"useRouter")&&t.d(r,{useRouter:function(){return s.useRouter}}),t.o(s,"useSearchParams")&&t.d(r,{useSearchParams:function(){return s.useSearchParams}})},1789:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return g}});var s=t(7437),a=t(6853),n=t(2727),i=t(9733),l=t(8185),c=t(6864),o=t(6649),d=t(1240),u=t(1902),h=t(5016),f=t(500),m=t(4436),x=t(7138),p=t(6463),y=t(2265);function g(){let{user:e,isLoading:r}=(0,a.aF)(),{user:t}=(0,n.SE)(),g=(0,p.useRouter)();return((0,y.useEffect)(()=>{r||e||g.push("/api/auth/login")},[e,r,g,!1]),r)?(0,s.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,s.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})}):e?(0,s.jsxs)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[(0,s.jsx)("header",{className:"bg-white dark:bg-gray-800 shadow",children:(0,s.jsx)("div",{className:"container mx-auto px-4 py-4",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("div",{className:"flex items-center space-x-4",children:(0,s.jsxs)(x.default,{href:"/",className:"flex items-center space-x-2",children:[(0,s.jsx)("div",{className:"h-8 w-8 rounded-full bg-gradient-to-r from-blue-600 to-indigo-600"}),(0,s.jsx)("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"JusticeHub"})]})}),(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,s.jsxs)("span",{className:"text-sm text-gray-600 dark:text-gray-300",children:["Welcome, ",(null==e?void 0:e.name)||(null==e?void 0:e.email)]}),(0,s.jsx)(x.default,{href:"/api/auth/logout",children:(0,s.jsx)(i.z,{variant:"outline",size:"sm",children:"Sign Out"})})]})]})})}),(0,s.jsxs)("main",{className:"container mx-auto px-4 py-8",children:[(0,s.jsxs)("div",{className:"mb-8",children:[(0,s.jsx)("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Your Dashboard"}),(0,s.jsx)("p",{className:"text-gray-600 dark:text-gray-300",children:"Welcome to your personal space. Start your journey by sharing your story."})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[(0,s.jsx)(x.default,{href:"/stories/new",children:(0,s.jsx)(l.Zb,{className:"hover:shadow-lg transition-shadow cursor-pointer",children:(0,s.jsxs)(l.aY,{className:"p-6 text-center",children:[(0,s.jsx)(o.Z,{className:"h-12 w-12 mx-auto mb-3 text-primary"}),(0,s.jsx)("h3",{className:"font-semibold",children:"Create Story"}),(0,s.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"Share your journey"})]})})}),(0,s.jsx)(x.default,{href:"/mentors",children:(0,s.jsx)(l.Zb,{className:"hover:shadow-lg transition-shadow cursor-pointer",children:(0,s.jsxs)(l.aY,{className:"p-6 text-center",children:[(0,s.jsx)(d.Z,{className:"h-12 w-12 mx-auto mb-3 text-blue-600"}),(0,s.jsx)("h3",{className:"font-semibold",children:"Find Mentors"}),(0,s.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"Connect for guidance"})]})})}),(0,s.jsx)(x.default,{href:"/opportunities",children:(0,s.jsx)(l.Zb,{className:"hover:shadow-lg transition-shadow cursor-pointer",children:(0,s.jsxs)(l.aY,{className:"p-6 text-center",children:[(0,s.jsx)(u.Z,{className:"h-12 w-12 mx-auto mb-3 text-green-600"}),(0,s.jsx)("h3",{className:"font-semibold",children:"Opportunities"}),(0,s.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"Discover new paths"})]})})}),(0,s.jsx)(x.default,{href:"/profile",children:(0,s.jsx)(l.Zb,{className:"hover:shadow-lg transition-shadow cursor-pointer",children:(0,s.jsxs)(l.aY,{className:"p-6 text-center",children:[(0,s.jsx)(h.Z,{className:"h-12 w-12 mx-auto mb-3 text-yellow-600"}),(0,s.jsx)("h3",{className:"font-semibold",children:"Profile"}),(0,s.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"View your profile"})]})})})]}),(0,s.jsxs)(l.Zb,{className:"mb-8 border-primary",children:[(0,s.jsxs)(l.Ol,{children:[(0,s.jsxs)(l.ll,{className:"flex items-center gap-2",children:[(0,s.jsx)(f.Z,{className:"h-5 w-5"}),"Privacy Controls Active"]}),(0,s.jsx)(l.SZ,{children:"Your stories are protected by our privacy system. You control who sees what."})]}),(0,s.jsx)(l.aY,{children:(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[(0,s.jsxs)("div",{className:"flex items-start gap-3",children:[(0,s.jsx)(m.Z,{className:"h-5 w-5 text-green-600 mt-0.5"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-medium",children:"Public Stories"}),(0,s.jsx)("p",{className:"text-gray-600",children:"Visible to everyone, inspire others"})]})]}),(0,s.jsxs)("div",{className:"flex items-start gap-3",children:[(0,s.jsx)(d.Z,{className:"h-5 w-5 text-purple-600 mt-0.5"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-medium",children:"Organization/Mentor Only"}),(0,s.jsx)("p",{className:"text-gray-600",children:"Share within your trusted network"})]})]}),(0,s.jsxs)("div",{className:"flex items-start gap-3",children:[(0,s.jsx)(f.Z,{className:"h-5 w-5 text-orange-600 mt-0.5"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-medium",children:"Anonymous Option"}),(0,s.jsx)("p",{className:"text-gray-600",children:"Share publicly without revealing identity"})]})]})]})})]}),(0,s.jsxs)(c.mQ,{defaultValue:"all",className:"space-y-6",children:[(0,s.jsxs)(c.dr,{children:[(0,s.jsx)(c.SP,{value:"all",children:"All Stories"}),(0,s.jsx)(c.SP,{value:"mine",children:"My Stories"}),(0,s.jsx)(c.SP,{value:"organization",children:"Organization"}),(0,s.jsx)(c.SP,{value:"public",children:"Public Feed"})]}),(0,s.jsx)(c.nU,{value:"all",children:(0,s.jsx)(DevStoryFeed,{showHeader:!0,showStats:!1,limit:10})}),(0,s.jsx)(c.nU,{value:"mine",children:(0,s.jsx)(l.Zb,{className:"p-6 text-center",children:(0,s.jsxs)(l.aY,{children:[(0,s.jsx)("p",{className:"text-gray-600 mb-4",children:"You haven't shared any stories yet."}),(0,s.jsx)(x.default,{href:"/stories/new",children:(0,s.jsx)(i.z,{children:"Share Your First Story"})})]})})}),(0,s.jsx)(c.nU,{value:"organization",children:(0,s.jsx)(DevStoryFeed,{showHeader:!1,showStats:!1,limit:5})}),(0,s.jsx)(c.nU,{value:"public",children:(0,s.jsx)(DevStoryFeed,{showHeader:!1,showStats:!1,limit:8})})]})]})]}):null}},9733:function(e,r,t){"use strict";t.d(r,{z:function(){return o}});var s=t(7437),a=t(2265),n=t(1538),i=t(3027),l=t(9354);let c=(0,i.j)("inline-flex items-center justify-center whitespace-nowrap rounded-sm text-sm font-medium ring-offset-background transition-all duration-200 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring focus-visible:ring-offset-1 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/90",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-sm px-3",lg:"h-11 rounded-sm px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),o=a.forwardRef((e,r)=>{let{className:t,variant:a,size:i,asChild:o=!1,...d}=e,u=o?n.g7:"button";return(0,s.jsx)(u,{className:(0,l.cn)(c({variant:a,size:i,className:t})),ref:r,...d})});o.displayName="Button"},8185:function(e,r,t){"use strict";t.d(r,{Ol:function(){return l},SZ:function(){return o},Zb:function(){return i},aY:function(){return d},ll:function(){return c}});var s=t(7437),a=t(2265),n=t(9354);let i=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,s.jsx)("div",{ref:r,className:(0,n.cn)("rounded-sm border bg-card text-card-foreground",t),...a})});i.displayName="Card";let l=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,s.jsx)("div",{ref:r,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",t),...a})});l.displayName="CardHeader";let c=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,s.jsx)("h3",{ref:r,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",t),...a})});c.displayName="CardTitle";let o=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,s.jsx)("p",{ref:r,className:(0,n.cn)("text-sm text-muted-foreground",t),...a})});o.displayName="CardDescription";let d=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,s.jsx)("div",{ref:r,className:(0,n.cn)("p-6 pt-0",t),...a})});d.displayName="CardContent",a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,s.jsx)("div",{ref:r,className:(0,n.cn)("flex items-center p-6 pt-0",t),...a})}).displayName="CardFooter"},6864:function(e,r,t){"use strict";t.d(r,{SP:function(){return o},dr:function(){return c},mQ:function(){return l},nU:function(){return d}});var s=t(7437),a=t(2265),n=t(2447),i=t(9354);let l=n.fC,c=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,s.jsx)(n.aV,{ref:r,className:(0,i.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...a})});c.displayName=n.aV.displayName;let o=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,s.jsx)(n.xz,{ref:r,className:(0,i.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...a})});o.displayName=n.xz.displayName;let d=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,s.jsx)(n.VY,{ref:r,className:(0,i.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...a})});d.displayName=n.VY.displayName},2727:function(e,r,t){"use strict";t.d(r,{SE:function(){return c},dr:function(){return l}});var s=t(7437),a=t(2265),n=t(6853);let i=(0,a.createContext)(void 0);function l(e){var r;let{children:t}=e,{user:l,error:c,isLoading:o}=(0,n.aF)(),[d,u]=(0,a.useState)(null),[h,f]=(0,a.useState)(!0),[m,x]=(0,a.useState)(null),p=async()=>{if(!l){u(null),f(!1);return}try{let e=await fetch("/api/users/profile");if(!e.ok)throw Error("Failed to fetch user profile");let r=await e.json();u(r)}catch(e){x(e instanceof Error?e:Error("Unknown error"))}finally{f(!1)}};(0,a.useEffect)(()=>{o||p()},[l,o,!1]),!d||(null===(r=d.profile)||void 0===r?void 0:r.name)&&d.role&&d.role;let y=async()=>{f(!0),await p()},g=(null==d?void 0:d.role)||"youth";return(0,s.jsx)(i.Provider,{value:{user:d,isLoading:h||o,error:m||c,role:g,refreshUser:y},children:t})}function c(){let e=(0,a.useContext)(i);if(void 0===e)throw Error("useUserContext must be used within a UserProvider");return e}},9354:function(e,r,t){"use strict";t.d(r,{cn:function(){return n}});var s=t(4839),a=t(6164);function n(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return(0,a.m6)((0,s.W)(r))}}},function(e){e.O(0,[4485,8089,231,6853,2447,2971,7023,1744],function(){return e(e.s=4335)}),_N_E=e.O()}]);