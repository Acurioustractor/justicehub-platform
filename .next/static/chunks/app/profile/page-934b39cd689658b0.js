(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4178],{863:function(e,r,t){Promise.resolve().then(t.bind(t,1411))},5733:function(e,r,t){"use strict";t.d(r,{Z:function(){return n}});/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,t(8030).Z)("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},3274:function(e,r,t){"use strict";t.d(r,{Z:function(){return n}});/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,t(8030).Z)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},500:function(e,r,t){"use strict";t.d(r,{Z:function(){return n}});/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,t(8030).Z)("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]])},2022:function(e,r,t){"use strict";t.d(r,{Z:function(){return n}});/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,t(8030).Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},6463:function(e,r,t){"use strict";var n=t(1169);t.o(n,"useParams")&&t.d(r,{useParams:function(){return n.useParams}}),t.o(n,"useRouter")&&t.d(r,{useRouter:function(){return n.useRouter}}),t.o(n,"useSearchParams")&&t.d(r,{useSearchParams:function(){return n.useSearchParams}})},6246:function(e,r,t){"use strict";/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n=t(2265),a="function"==typeof Object.is?Object.is:function(e,r){return e===r&&(0!==e||1/e==1/r)||e!=e&&r!=r},s=n.useState,i=n.useEffect,l=n.useLayoutEffect,o=n.useDebugValue;function c(e){var r=e.getSnapshot;e=e.value;try{var t=r();return!a(e,t)}catch(e){return!0}}var d="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,r){return r()}:function(e,r){var t=r(),n=s({inst:{value:t,getSnapshot:r}}),a=n[0].inst,d=n[1];return l(function(){a.value=t,a.getSnapshot=r,c(a)&&d({inst:a})},[e,t,r]),i(function(){return c(a)&&d({inst:a}),e(function(){c(a)&&d({inst:a})})},[e]),o(t),t};r.useSyncExternalStore=void 0!==n.useSyncExternalStore?n.useSyncExternalStore:d},554:function(e,r,t){"use strict";e.exports=t(6246)},1411:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return A}});var n=t(7437),a=t(2727),s=t(9733),i=t(8185),l=t(6864),o=t(402),c=t(7209),d=t(4919),u=t(9888),f=t(2265),m=t(8149),h=t(1584),p=t(8324),x=t(1715),v=t(7250),g=t(5238),y=t(5171),j="Switch",[b,N]=(0,p.b)(j),[w,S]=b(j),k=f.forwardRef((e,r)=>{let{__scopeSwitch:t,name:a,checked:s,defaultChecked:i,required:l,disabled:o,value:c="on",onCheckedChange:d,form:u,...p}=e,[v,g]=f.useState(null),b=(0,h.e)(r,e=>g(e)),N=f.useRef(!1),S=!v||u||!!v.closest("form"),[k,C]=(0,x.T)({prop:s,defaultProp:null!=i&&i,onChange:d,caller:j});return(0,n.jsxs)(w,{scope:t,checked:k,disabled:o,children:[(0,n.jsx)(y.WV.button,{type:"button",role:"switch","aria-checked":k,"aria-required":l,"data-state":R(k),"data-disabled":o?"":void 0,disabled:o,value:c,...p,ref:b,onClick:(0,m.M)(e.onClick,e=>{C(e=>!e),S&&(N.current=e.isPropagationStopped(),N.current||e.stopPropagation())})}),S&&(0,n.jsx)(P,{control:v,bubbles:!N.current,name:a,value:c,checked:k,required:l,disabled:o,form:u,style:{transform:"translateX(-100%)"}})]})});k.displayName=j;var C="SwitchThumb",E=f.forwardRef((e,r)=>{let{__scopeSwitch:t,...a}=e,s=S(C,t);return(0,n.jsx)(y.WV.span,{"data-state":R(s.checked),"data-disabled":s.disabled?"":void 0,...a,ref:r})});E.displayName=C;var P=f.forwardRef((e,r)=>{let{__scopeSwitch:t,control:a,checked:s,bubbles:i=!0,...l}=e,o=f.useRef(null),c=(0,h.e)(o,r),d=(0,v.D)(s),u=(0,g.t)(a);return f.useEffect(()=>{let e=o.current;if(!e)return;let r=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(d!==s&&r){let t=new Event("click",{bubbles:i});r.call(e,s),e.dispatchEvent(t)}},[d,s,i]),(0,n.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:s,...l,tabIndex:-1,ref:c,style:{...l.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});function R(e){return e?"checked":"unchecked"}P.displayName="SwitchBubbleInput";var Z=t(9354);let _=f.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,n.jsx)(k,{className:(0,Z.cn)("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...a,ref:r,children:(0,n.jsx)(E,{className:(0,Z.cn)("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})})});_.displayName=k.displayName;var M=t(420),z=t(6463),F=t(3274),O=t(2022),V=t(500);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let I=(0,t(8030).Z)("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);var L=t(5733);function A(){var e,r,t,m,h,p,x,v,g,y,j;let{user:b,isLoading:N,refreshUser:w}=(0,a.SE)(),S=(0,z.useRouter)(),[k,C]=(0,f.useState)(!1),[E,P]=(0,f.useState)("general"),[R,Z]=(0,f.useState)({name:(null==b?void 0:null===(e=b.profile)||void 0===e?void 0:e.name)||"",bio:(null==b?void 0:null===(r=b.profile)||void 0===r?void 0:r.bio)||"",location:(null==b?void 0:null===(t=b.profile)||void 0===t?void 0:t.location)||"",phone:(null==b?void 0:null===(m=b.profile)||void 0===m?void 0:m.phone)||""}),[A,T]=(0,f.useState)({shareStories:null===(g=null==b?void 0:null===(h=b.privacySettings)||void 0===h?void 0:h.shareStories)||void 0===g||g,allowMentorContact:null===(y=null==b?void 0:null===(p=b.privacySettings)||void 0===p?void 0:p.allowMentorContact)||void 0===y||y,showProfile:null===(j=null==b?void 0:null===(x=b.privacySettings)||void 0===x?void 0:x.showProfile)||void 0===j||j});if(N)return(0,n.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,n.jsx)(F.Z,{className:"h-8 w-8 animate-spin"})});if(!b)return S.push("/api/auth/login"),null;let Y=async()=>{C(!0);try{(await fetch("/api/users/profile",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({profile:R})})).ok&&await w()}catch(e){}finally{C(!1)}},U=async()=>{C(!0);try{(await fetch("/api/users/profile",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({privacySettings:A})})).ok&&await w()}catch(e){}finally{C(!1)}};return(0,n.jsxs)("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:[(0,n.jsxs)("div",{className:"mb-8",children:[(0,n.jsx)("h1",{className:"text-3xl font-bold mb-2",children:"Profile Settings"}),(0,n.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Manage your personal information and preferences"})]}),(0,n.jsxs)(l.mQ,{value:E,onValueChange:P,children:[(0,n.jsxs)(l.dr,{className:"grid w-full grid-cols-4",children:[(0,n.jsxs)(l.SP,{value:"general",className:"flex items-center gap-2",children:[(0,n.jsx)(O.Z,{className:"h-4 w-4"}),"General"]}),(0,n.jsxs)(l.SP,{value:"privacy",className:"flex items-center gap-2",children:[(0,n.jsx)(V.Z,{className:"h-4 w-4"}),"Privacy"]}),(0,n.jsxs)(l.SP,{value:"notifications",className:"flex items-center gap-2",children:[(0,n.jsx)(I,{className:"h-4 w-4"}),"Notifications"]}),(0,n.jsxs)(l.SP,{value:"appearance",className:"flex items-center gap-2",children:[(0,n.jsx)(L.Z,{className:"h-4 w-4"}),"Appearance"]})]}),(0,n.jsxs)(l.nU,{value:"general",className:"space-y-6",children:[(0,n.jsxs)(i.Zb,{children:[(0,n.jsxs)(i.Ol,{children:[(0,n.jsx)(i.ll,{children:"Profile Information"}),(0,n.jsx)(i.SZ,{children:"Update your personal information that's visible to others"})]}),(0,n.jsxs)(i.aY,{className:"space-y-6",children:[(0,n.jsxs)("div",{className:"flex items-center space-x-6",children:[(0,n.jsxs)(M.qE,{className:"h-20 w-20",children:[(0,n.jsx)(M.F$,{src:null===(v=b.profile)||void 0===v?void 0:v.picture}),(0,n.jsx)(M.Q5,{children:(R.name||b.email).split(" ").map(e=>e[0]).join("").toUpperCase().slice(0,2)})]}),(0,n.jsx)(s.z,{variant:"outline",children:"Change Avatar"})]}),(0,n.jsxs)("div",{className:"grid gap-4",children:[(0,n.jsxs)("div",{className:"grid gap-2",children:[(0,n.jsx)(o._,{htmlFor:"name",children:"Full Name"}),(0,n.jsx)(c.I,{id:"name",value:R.name,onChange:e=>Z({...R,name:e.target.value}),placeholder:"Enter your full name"})]}),(0,n.jsxs)("div",{className:"grid gap-2",children:[(0,n.jsx)(o._,{htmlFor:"email",children:"Email"}),(0,n.jsx)(c.I,{id:"email",value:b.email,disabled:!0,className:"bg-gray-50 dark:bg-gray-800"}),(0,n.jsx)("p",{className:"text-sm text-gray-500",children:"Email cannot be changed. Contact support if needed."})]}),(0,n.jsxs)("div",{className:"grid gap-2",children:[(0,n.jsx)(o._,{htmlFor:"bio",children:"Bio"}),(0,n.jsx)(d.g,{id:"bio",value:R.bio,onChange:e=>Z({...R,bio:e.target.value}),placeholder:"Tell us about yourself",rows:4}),(0,n.jsx)("p",{className:"text-sm text-gray-500",children:"Brief description for your profile. Max 500 characters."})]}),(0,n.jsxs)("div",{className:"grid gap-2",children:[(0,n.jsx)(o._,{htmlFor:"location",children:"Location"}),(0,n.jsx)(c.I,{id:"location",value:R.location,onChange:e=>Z({...R,location:e.target.value}),placeholder:"City, State"})]}),(0,n.jsxs)("div",{className:"grid gap-2",children:[(0,n.jsx)(o._,{htmlFor:"phone",children:"Phone Number"}),(0,n.jsx)(c.I,{id:"phone",type:"tel",value:R.phone,onChange:e=>Z({...R,phone:e.target.value}),placeholder:"+1 (555) 123-4567"})]})]}),(0,n.jsx)(s.z,{onClick:Y,disabled:k,children:k?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(F.Z,{className:"mr-2 h-4 w-4 animate-spin"}),"Saving..."]}):"Save Changes"})]})]}),"youth"===b.role&&(0,n.jsxs)(i.Zb,{children:[(0,n.jsxs)(i.Ol,{children:[(0,n.jsx)(i.ll,{children:"Youth Profile"}),(0,n.jsx)(i.SZ,{children:"Additional information for your youth profile"})]}),(0,n.jsxs)(i.aY,{className:"space-y-4",children:[(0,n.jsxs)("div",{className:"grid gap-2",children:[(0,n.jsx)(o._,{htmlFor:"education",children:"Education Level"}),(0,n.jsxs)(u.Ph,{children:[(0,n.jsx)(u.i4,{id:"education",children:(0,n.jsx)(u.ki,{placeholder:"Select education level"})}),(0,n.jsxs)(u.Bw,{children:[(0,n.jsx)(u.Ql,{value:"middle-school",children:"Middle School"}),(0,n.jsx)(u.Ql,{value:"high-school",children:"High School"}),(0,n.jsx)(u.Ql,{value:"ged",children:"GED"}),(0,n.jsx)(u.Ql,{value:"some-college",children:"Some College"}),(0,n.jsx)(u.Ql,{value:"associates",children:"Associate's Degree"}),(0,n.jsx)(u.Ql,{value:"bachelors",children:"Bachelor's Degree"})]})]})]}),(0,n.jsxs)("div",{className:"grid gap-2",children:[(0,n.jsx)(o._,{children:"Skills & Interests"}),(0,n.jsx)(d.g,{placeholder:"Enter your skills and interests, separated by commas",rows:3})]})]})]})]}),(0,n.jsx)(l.nU,{value:"privacy",className:"space-y-6",children:(0,n.jsxs)(i.Zb,{children:[(0,n.jsxs)(i.Ol,{children:[(0,n.jsx)(i.ll,{children:"Privacy Settings"}),(0,n.jsx)(i.SZ,{children:"Control who can see your information and interact with you"})]}),(0,n.jsxs)(i.aY,{className:"space-y-6",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsxs)("div",{className:"space-y-0.5",children:[(0,n.jsx)(o._,{htmlFor:"share-stories",children:"Share Stories Publicly"}),(0,n.jsx)("p",{className:"text-sm text-gray-500",children:"Allow your stories to be visible to all users"})]}),(0,n.jsx)(_,{id:"share-stories",checked:A.shareStories,onCheckedChange:e=>T({...A,shareStories:e})})]}),(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsxs)("div",{className:"space-y-0.5",children:[(0,n.jsx)(o._,{htmlFor:"mentor-contact",children:"Allow Mentor Contact"}),(0,n.jsx)("p",{className:"text-sm text-gray-500",children:"Mentors can send you connection requests"})]}),(0,n.jsx)(_,{id:"mentor-contact",checked:A.allowMentorContact,onCheckedChange:e=>T({...A,allowMentorContact:e})})]}),(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsxs)("div",{className:"space-y-0.5",children:[(0,n.jsx)(o._,{htmlFor:"show-profile",children:"Public Profile"}),(0,n.jsx)("p",{className:"text-sm text-gray-500",children:"Make your profile visible to other users"})]}),(0,n.jsx)(_,{id:"show-profile",checked:A.showProfile,onCheckedChange:e=>T({...A,showProfile:e})})]}),(0,n.jsx)(s.z,{onClick:U,disabled:k,children:k?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(F.Z,{className:"mr-2 h-4 w-4 animate-spin"}),"Saving..."]}):"Update Privacy Settings"})]})]})}),(0,n.jsx)(l.nU,{value:"notifications",className:"space-y-6",children:(0,n.jsxs)(i.Zb,{children:[(0,n.jsxs)(i.Ol,{children:[(0,n.jsx)(i.ll,{children:"Notification Preferences"}),(0,n.jsx)(i.SZ,{children:"Choose how you want to be notified about updates"})]}),(0,n.jsx)(i.aY,{children:(0,n.jsx)("p",{className:"text-gray-500",children:"Notification settings coming soon..."})})]})}),(0,n.jsx)(l.nU,{value:"appearance",className:"space-y-6",children:(0,n.jsxs)(i.Zb,{children:[(0,n.jsxs)(i.Ol,{children:[(0,n.jsx)(i.ll,{children:"Appearance Settings"}),(0,n.jsx)(i.SZ,{children:"Customize how JusticeHub looks for you"})]}),(0,n.jsx)(i.aY,{children:(0,n.jsx)("p",{className:"text-gray-500",children:"Theme settings coming soon..."})})]})})]})]})}},420:function(e,r,t){"use strict";t.d(r,{F$:function(){return o},Q5:function(){return c},qE:function(){return l}});var n=t(7437),a=t(2265),s=t(1464),i=t(9354);let l=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,n.jsx)(s.fC,{ref:r,className:(0,i.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...a})});l.displayName=s.fC.displayName;let o=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,n.jsx)(s.Ee,{ref:r,className:(0,i.cn)("aspect-square h-full w-full",t),...a})});o.displayName=s.Ee.displayName;let c=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,n.jsx)(s.NY,{ref:r,className:(0,i.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...a})});c.displayName=s.NY.displayName},9733:function(e,r,t){"use strict";t.d(r,{z:function(){return c}});var n=t(7437),a=t(2265),s=t(1538),i=t(3027),l=t(9354);let o=(0,i.j)("inline-flex items-center justify-center whitespace-nowrap rounded-sm text-sm font-medium ring-offset-background transition-all duration-200 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring focus-visible:ring-offset-1 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/90",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-sm px-3",lg:"h-11 rounded-sm px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=a.forwardRef((e,r)=>{let{className:t,variant:a,size:i,asChild:c=!1,...d}=e,u=c?s.g7:"button";return(0,n.jsx)(u,{className:(0,l.cn)(o({variant:a,size:i,className:t})),ref:r,...d})});c.displayName="Button"},8185:function(e,r,t){"use strict";t.d(r,{Ol:function(){return l},SZ:function(){return c},Zb:function(){return i},aY:function(){return d},ll:function(){return o}});var n=t(7437),a=t(2265),s=t(9354);let i=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,n.jsx)("div",{ref:r,className:(0,s.cn)("rounded-sm border bg-card text-card-foreground",t),...a})});i.displayName="Card";let l=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,n.jsx)("div",{ref:r,className:(0,s.cn)("flex flex-col space-y-1.5 p-6",t),...a})});l.displayName="CardHeader";let o=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,n.jsx)("h3",{ref:r,className:(0,s.cn)("text-2xl font-semibold leading-none tracking-tight",t),...a})});o.displayName="CardTitle";let c=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,n.jsx)("p",{ref:r,className:(0,s.cn)("text-sm text-muted-foreground",t),...a})});c.displayName="CardDescription";let d=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,n.jsx)("div",{ref:r,className:(0,s.cn)("p-6 pt-0",t),...a})});d.displayName="CardContent",a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,n.jsx)("div",{ref:r,className:(0,s.cn)("flex items-center p-6 pt-0",t),...a})}).displayName="CardFooter"},7209:function(e,r,t){"use strict";t.d(r,{I:function(){return i}});var n=t(7437),a=t(2265),s=t(9354);let i=a.forwardRef((e,r)=>{let{className:t,type:a,...i}=e;return(0,n.jsx)("input",{type:a,className:(0,s.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...i})});i.displayName="Input"},402:function(e,r,t){"use strict";t.d(r,{_:function(){return c}});var n=t(7437),a=t(2265),s=t(8364),i=t(3027),l=t(9354);let o=(0,i.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,n.jsx)(s.f,{ref:r,className:(0,l.cn)(o(),t),...a})});c.displayName=s.f.displayName},9888:function(e,r,t){"use strict";t.d(r,{Bw:function(){return p},Ph:function(){return d},Ql:function(){return x},i4:function(){return f},ki:function(){return u}});var n=t(7437),a=t(2265),s=t(771),i=t(2421),l=t(4392),o=t(2468),c=t(9354);let d=s.fC;s.ZA;let u=s.B4,f=a.forwardRef((e,r)=>{let{className:t,children:a,...l}=e;return(0,n.jsxs)(s.xz,{ref:r,className:(0,c.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...l,children:[a,(0,n.jsx)(s.JO,{asChild:!0,children:(0,n.jsx)(i.Z,{className:"h-4 w-4 opacity-50"})})]})});f.displayName=s.xz.displayName;let m=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,n.jsx)(s.u_,{ref:r,className:(0,c.cn)("flex cursor-default items-center justify-center py-1",t),...a,children:(0,n.jsx)(l.Z,{className:"h-4 w-4"})})});m.displayName=s.u_.displayName;let h=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,n.jsx)(s.$G,{ref:r,className:(0,c.cn)("flex cursor-default items-center justify-center py-1",t),...a,children:(0,n.jsx)(i.Z,{className:"h-4 w-4"})})});h.displayName=s.$G.displayName;let p=a.forwardRef((e,r)=>{let{className:t,children:a,position:i="popper",...l}=e;return(0,n.jsx)(s.h_,{children:(0,n.jsxs)(s.VY,{ref:r,className:(0,c.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===i&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:i,...l,children:[(0,n.jsx)(m,{}),(0,n.jsx)(s.l_,{className:(0,c.cn)("p-1","popper"===i&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:a}),(0,n.jsx)(h,{})]})})});p.displayName=s.VY.displayName,a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,n.jsx)(s.__,{ref:r,className:(0,c.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...a})}).displayName=s.__.displayName;let x=a.forwardRef((e,r)=>{let{className:t,children:a,...i}=e;return(0,n.jsxs)(s.ck,{ref:r,className:(0,c.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...i,children:[(0,n.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,n.jsx)(s.wU,{children:(0,n.jsx)(o.Z,{className:"h-4 w-4"})})}),(0,n.jsx)(s.eT,{children:a})]})});x.displayName=s.ck.displayName,a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,n.jsx)(s.Z0,{ref:r,className:(0,c.cn)("-mx-1 my-1 h-px bg-muted",t),...a})}).displayName=s.Z0.displayName},6864:function(e,r,t){"use strict";t.d(r,{SP:function(){return c},dr:function(){return o},mQ:function(){return l},nU:function(){return d}});var n=t(7437),a=t(2265),s=t(2447),i=t(9354);let l=s.fC,o=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,n.jsx)(s.aV,{ref:r,className:(0,i.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...a})});o.displayName=s.aV.displayName;let c=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,n.jsx)(s.xz,{ref:r,className:(0,i.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...a})});c.displayName=s.xz.displayName;let d=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,n.jsx)(s.VY,{ref:r,className:(0,i.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...a})});d.displayName=s.VY.displayName},4919:function(e,r,t){"use strict";t.d(r,{g:function(){return i}});var n=t(7437),a=t(2265),s=t(9354);let i=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,n.jsx)("textarea",{className:(0,s.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...a})});i.displayName="Textarea"},2727:function(e,r,t){"use strict";t.d(r,{SE:function(){return o},dr:function(){return l}});var n=t(7437),a=t(2265),s=t(6853);let i=(0,a.createContext)(void 0);function l(e){var r;let{children:t}=e,{user:l,error:o,isLoading:c}=(0,s.aF)(),[d,u]=(0,a.useState)(null),[f,m]=(0,a.useState)(!0),[h,p]=(0,a.useState)(null),x=async()=>{if(!l){u(null),m(!1);return}try{let e=await fetch("/api/users/profile");if(!e.ok)throw Error("Failed to fetch user profile");let r=await e.json();u(r)}catch(e){p(e instanceof Error?e:Error("Unknown error"))}finally{m(!1)}};(0,a.useEffect)(()=>{c||x()},[l,c,!1]),!d||(null===(r=d.profile)||void 0===r?void 0:r.name)&&d.role&&d.role;let v=async()=>{m(!0),await x()},g=(null==d?void 0:d.role)||"youth";return(0,n.jsx)(i.Provider,{value:{user:d,isLoading:f||c,error:h||o,role:g,refreshUser:v},children:t})}function o(){let e=(0,a.useContext)(i);if(void 0===e)throw Error("useUserContext must be used within a UserProvider");return e}},9354:function(e,r,t){"use strict";t.d(r,{cn:function(){return s}});var n=t(4839),a=t(6164);function s(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return(0,a.m6)((0,n.W)(r))}},1464:function(e,r,t){"use strict";t.d(r,{NY:function(){return S},Ee:function(){return w},fC:function(){return N}});var n=t(2265),a=t(8324),s=t(5137),i=t(1336),l=t(5171),o=t(554);function c(){return()=>{}}var d=t(7437),u="Avatar",[f,m]=(0,a.b)(u),[h,p]=f(u),x=n.forwardRef((e,r)=>{let{__scopeAvatar:t,...a}=e,[s,i]=n.useState("idle");return(0,d.jsx)(h,{scope:t,imageLoadingStatus:s,onImageLoadingStatusChange:i,children:(0,d.jsx)(l.WV.span,{...a,ref:r})})});x.displayName=u;var v="AvatarImage",g=n.forwardRef((e,r)=>{let{__scopeAvatar:t,src:a,onLoadingStatusChange:u=()=>{},...f}=e,m=p(v,t),h=function(e,r){let{referrerPolicy:t,crossOrigin:a}=r,s=(0,o.useSyncExternalStore)(c,()=>!0,()=>!1),l=n.useRef(null),d=s?(l.current||(l.current=new window.Image),l.current):null,[u,f]=n.useState(()=>b(d,e));return(0,i.b)(()=>{f(b(d,e))},[d,e]),(0,i.b)(()=>{let e=e=>()=>{f(e)};if(!d)return;let r=e("loaded"),n=e("error");return d.addEventListener("load",r),d.addEventListener("error",n),t&&(d.referrerPolicy=t),"string"==typeof a&&(d.crossOrigin=a),()=>{d.removeEventListener("load",r),d.removeEventListener("error",n)}},[d,a,t]),u}(a,f),x=(0,s.W)(e=>{u(e),m.onImageLoadingStatusChange(e)});return(0,i.b)(()=>{"idle"!==h&&x(h)},[h,x]),"loaded"===h?(0,d.jsx)(l.WV.img,{...f,ref:r,src:a}):null});g.displayName=v;var y="AvatarFallback",j=n.forwardRef((e,r)=>{let{__scopeAvatar:t,delayMs:a,...s}=e,i=p(y,t),[o,c]=n.useState(void 0===a);return n.useEffect(()=>{if(void 0!==a){let e=window.setTimeout(()=>c(!0),a);return()=>window.clearTimeout(e)}},[a]),o&&"loaded"!==i.imageLoadingStatus?(0,d.jsx)(l.WV.span,{...s,ref:r}):null});function b(e,r){return e?r?(e.src!==r&&(e.src=r),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}j.displayName=y;var N=x,w=g,S=j},8364:function(e,r,t){"use strict";t.d(r,{f:function(){return l}});var n=t(2265),a=t(5171),s=t(7437),i=n.forwardRef((e,r)=>(0,s.jsx)(a.WV.label,{...e,ref:r,onMouseDown:r=>{var t;r.target.closest("button, input, select, textarea")||(null===(t=e.onMouseDown)||void 0===t||t.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));i.displayName="Label";var l=i}},function(e){e.O(0,[4485,8089,6853,2447,9439,2971,7023,1744],function(){return e(e.s=863)}),_N_E=e.O()}]);