(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1875],{5165:function(e,t,r){Promise.resolve().then(r.bind(r,4737))},4737:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return y}});var a=r(7437),s=r(2265),n=r(6463),i=r(9733),l=r(8185),o=r(7209),d=r(402),c=r(4919),u=r(9888),f=r(7992),m=r(3191),x=r(5524),p=r(1266),h=r(4232),g=r(2023),b=r(4436),v=r(3907),j=r(3274);function y(){let e=(0,n.useRouter)(),t=function(){let e=(0,m.NL)(),t=(0,n.useRouter)();return(0,x.D)({mutationFn:async e=>{let t=await fetch("/api/organizations",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw Error((await t.json()).error||"Failed to create organization");return t.json()},onSuccess:r=>{e.invalidateQueries({queryKey:["organizations"]}),t.push("/organizations/".concat(r.organization.id))}})}(),[r,y]=(0,s.useState)({name:"",description:"",type:"nonprofit",website:""}),N=async e=>{e.preventDefault();try{await t.mutateAsync(r)}catch(e){}},w=r.name.trim().length>=3;return(0,a.jsxs)("div",{className:"container mx-auto px-4 py-8 max-w-2xl",children:[(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsxs)(i.z,{variant:"ghost",onClick:()=>e.back(),className:"mb-4",children:[(0,a.jsx)(p.Z,{className:"mr-2 h-4 w-4"}),"Back"]}),(0,a.jsx)("h1",{className:"text-3xl font-bold mb-2",children:"Create Organization"}),(0,a.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Set up a new organization to collaborate with your team"})]}),(0,a.jsxs)("form",{onSubmit:N,children:[(0,a.jsxs)(l.Zb,{children:[(0,a.jsxs)(l.Ol,{children:[(0,a.jsx)(l.ll,{children:"Organization Details"}),(0,a.jsx)(l.SZ,{children:"Provide basic information about your organization"})]}),(0,a.jsxs)(l.aY,{className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)(d._,{htmlFor:"name",children:["Organization Name ",(0,a.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(h.Z,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,a.jsx)(o.I,{id:"name",value:r.name,onChange:e=>y({...r,name:e.target.value}),placeholder:"Enter organization name",className:"pl-10",required:!0})]}),(0,a.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"This will be displayed across the platform"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(d._,{htmlFor:"type",children:"Organization Type"}),(0,a.jsxs)(u.Ph,{value:r.type,onValueChange:e=>y({...r,type:e}),children:[(0,a.jsx)(u.i4,{id:"type",children:(0,a.jsx)(u.ki,{})}),(0,a.jsxs)(u.Bw,{children:[(0,a.jsx)(u.Ql,{value:"nonprofit",children:"Non-Profit"}),(0,a.jsx)(u.Ql,{value:"education",children:"Educational Institution"}),(0,a.jsx)(u.Ql,{value:"government",children:"Government Agency"}),(0,a.jsx)(u.Ql,{value:"corporate",children:"Corporate"}),(0,a.jsx)(u.Ql,{value:"community",children:"Community Group"}),(0,a.jsx)(u.Ql,{value:"other",children:"Other"})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(d._,{htmlFor:"description",children:"Description"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(g.Z,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),(0,a.jsx)(c.g,{id:"description",value:r.description,onChange:e=>y({...r,description:e.target.value}),placeholder:"Tell us about your organization's mission and work",className:"pl-10 min-h-[100px]"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(d._,{htmlFor:"website",children:"Website"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(b.Z,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,a.jsx)(o.I,{id:"website",type:"url",value:r.website,onChange:e=>y({...r,website:e.target.value}),placeholder:"https://example.org",className:"pl-10"})]})]}),t.error&&(0,a.jsx)(f.bZ,{variant:"destructive",children:(0,a.jsx)(f.X,{children:t.error.message})})]})]}),(0,a.jsx)(l.Zb,{className:"mt-6",children:(0,a.jsx)(l.aY,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[(0,a.jsx)(v.Z,{className:"h-5 w-5 text-purple-500 mt-0.5"}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("h3",{className:"font-medium mb-1",children:"What happens next?"}),(0,a.jsxs)("ul",{className:"text-sm text-gray-600 dark:text-gray-400 space-y-1",children:[(0,a.jsx)("li",{children:"• You'll be the owner of this organization"}),(0,a.jsx)("li",{children:"• You can invite team members to collaborate"}),(0,a.jsx)("li",{children:"• All data will be scoped to your organization"}),(0,a.jsx)("li",{children:"• You can customize settings and permissions"})]})]})]})})}),(0,a.jsxs)("div",{className:"flex gap-4 mt-6",children:[(0,a.jsx)(i.z,{type:"button",variant:"outline",onClick:()=>e.back(),disabled:t.isPending,children:"Cancel"}),(0,a.jsx)(i.z,{type:"submit",disabled:!w||t.isPending,children:t.isPending?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(j.Z,{className:"mr-2 h-4 w-4 animate-spin"}),"Creating..."]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(h.Z,{className:"mr-2 h-4 w-4"}),"Create Organization"]})})]})]})]})}},7992:function(e,t,r){"use strict";r.d(t,{X:function(){return d},bZ:function(){return o}});var a=r(7437),s=r(2265),n=r(3027),i=r(9354);let l=(0,n.j)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),o=s.forwardRef((e,t)=>{let{className:r,variant:s,...n}=e;return(0,a.jsx)("div",{ref:t,role:"alert",className:(0,i.cn)(l({variant:s}),r),...n})});o.displayName="Alert",s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("h5",{ref:t,className:(0,i.cn)("mb-1 font-medium leading-none tracking-tight",r),...s})}).displayName="AlertTitle";let d=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,i.cn)("text-sm [&_p]:leading-relaxed",r),...s})});d.displayName="AlertDescription"},9733:function(e,t,r){"use strict";r.d(t,{z:function(){return d}});var a=r(7437),s=r(2265),n=r(1538),i=r(3027),l=r(9354);let o=(0,i.j)("inline-flex items-center justify-center whitespace-nowrap rounded-sm text-sm font-medium ring-offset-background transition-all duration-200 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring focus-visible:ring-offset-1 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/90",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-sm px-3",lg:"h-11 rounded-sm px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=s.forwardRef((e,t)=>{let{className:r,variant:s,size:i,asChild:d=!1,...c}=e,u=d?n.g7:"button";return(0,a.jsx)(u,{className:(0,l.cn)(o({variant:s,size:i,className:r})),ref:t,...c})});d.displayName="Button"},8185:function(e,t,r){"use strict";r.d(t,{Ol:function(){return l},SZ:function(){return d},Zb:function(){return i},aY:function(){return c},ll:function(){return o}});var a=r(7437),s=r(2265),n=r(9354);let i=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("rounded-sm border bg-card text-card-foreground",r),...s})});i.displayName="Card";let l=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",r),...s})});l.displayName="CardHeader";let o=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("h3",{ref:t,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",r),...s})});o.displayName="CardTitle";let d=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("p",{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",r),...s})});d.displayName="CardDescription";let c=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("p-6 pt-0",r),...s})});c.displayName="CardContent",s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("flex items-center p-6 pt-0",r),...s})}).displayName="CardFooter"},7209:function(e,t,r){"use strict";r.d(t,{I:function(){return i}});var a=r(7437),s=r(2265),n=r(9354);let i=s.forwardRef((e,t)=>{let{className:r,type:s,...i}=e;return(0,a.jsx)("input",{type:s,className:(0,n.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",r),ref:t,...i})});i.displayName="Input"},402:function(e,t,r){"use strict";r.d(t,{_:function(){return d}});var a=r(7437),s=r(2265),n=r(8364),i=r(3027),l=r(9354);let o=(0,i.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(n.f,{ref:t,className:(0,l.cn)(o(),r),...s})});d.displayName=n.f.displayName},9888:function(e,t,r){"use strict";r.d(t,{Bw:function(){return p},Ph:function(){return c},Ql:function(){return h},i4:function(){return f},ki:function(){return u}});var a=r(7437),s=r(2265),n=r(771),i=r(2421),l=r(4392),o=r(2468),d=r(9354);let c=n.fC;n.ZA;let u=n.B4,f=s.forwardRef((e,t)=>{let{className:r,children:s,...l}=e;return(0,a.jsxs)(n.xz,{ref:t,className:(0,d.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",r),...l,children:[s,(0,a.jsx)(n.JO,{asChild:!0,children:(0,a.jsx)(i.Z,{className:"h-4 w-4 opacity-50"})})]})});f.displayName=n.xz.displayName;let m=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(n.u_,{ref:t,className:(0,d.cn)("flex cursor-default items-center justify-center py-1",r),...s,children:(0,a.jsx)(l.Z,{className:"h-4 w-4"})})});m.displayName=n.u_.displayName;let x=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(n.$G,{ref:t,className:(0,d.cn)("flex cursor-default items-center justify-center py-1",r),...s,children:(0,a.jsx)(i.Z,{className:"h-4 w-4"})})});x.displayName=n.$G.displayName;let p=s.forwardRef((e,t)=>{let{className:r,children:s,position:i="popper",...l}=e;return(0,a.jsx)(n.h_,{children:(0,a.jsxs)(n.VY,{ref:t,className:(0,d.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===i&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",r),position:i,...l,children:[(0,a.jsx)(m,{}),(0,a.jsx)(n.l_,{className:(0,d.cn)("p-1","popper"===i&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:s}),(0,a.jsx)(x,{})]})})});p.displayName=n.VY.displayName,s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(n.__,{ref:t,className:(0,d.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",r),...s})}).displayName=n.__.displayName;let h=s.forwardRef((e,t)=>{let{className:r,children:s,...i}=e;return(0,a.jsxs)(n.ck,{ref:t,className:(0,d.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",r),...i,children:[(0,a.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(n.wU,{children:(0,a.jsx)(o.Z,{className:"h-4 w-4"})})}),(0,a.jsx)(n.eT,{children:s})]})});h.displayName=n.ck.displayName,s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(n.Z0,{ref:t,className:(0,d.cn)("-mx-1 my-1 h-px bg-muted",r),...s})}).displayName=n.Z0.displayName},4919:function(e,t,r){"use strict";r.d(t,{g:function(){return i}});var a=r(7437),s=r(2265),n=r(9354);let i=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("textarea",{className:(0,n.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",r),ref:t,...s})});i.displayName="Textarea"},9354:function(e,t,r){"use strict";r.d(t,{cn:function(){return n}});var a=r(4839),s=r(6164);function n(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,s.m6)((0,a.W)(t))}}},function(e){e.O(0,[4485,8089,9439,5187,2971,7023,1744],function(){return e(e.s=5165)}),_N_E=e.O()}]);