(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8461],{5117:function(e,r,i){Promise.resolve().then(i.bind(i,8743))},8743:function(e,r,i){"use strict";i.r(r),i.d(r,{default:function(){return g}});var l=i(7437),o=i(2265),t=i(6463),n=i(2727),s=i(9733),a=i(8185),d=i(7209),u=i(402),c=i(4919),f=i(112),m=i(1617),h=i(518),v=i(7592),x=i(3274),p=i(2468);function g(){var e;let r=(0,t.useRouter)(),{user:i,refreshUser:g}=(0,n.SE)(),[y,b]=(0,o.useState)(1),[j,N]=(0,o.useState)(!1),[k,w]=(0,o.useState)({role:"youth",profile:{name:(null==i?void 0:null===(e=i.profile)||void 0===e?void 0:e.name)||"",bio:"",location:"",phone:""}}),P="youth"===k.role?3:4,C=async()=>{N(!0);try{(await fetch("/api/users/profile",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({role:k.role,profile:k.profile,youthProfile:"youth"===k.role?k.youthProfile:void 0,mentorProfile:"mentor"===k.role?k.mentorProfile:void 0})})).ok&&(await g(),r.push("/dashboard"))}catch(e){}finally{N(!1)}},_=()=>{switch(y){case 1:case 3:return!0;case 2:return""!==k.profile.name.trim();case 4:var e;return"youth"===k.role||(null===(e=k.mentorProfile)||void 0===e?void 0:e.backgroundConsent)===!0;default:return!1}};return(0,l.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900 p-4",children:(0,l.jsxs)(a.Zb,{className:"w-full max-w-2xl",children:[(0,l.jsxs)(a.Ol,{children:[(0,l.jsx)(a.ll,{className:"text-2xl",children:"Welcome to JusticeHub!"}),(0,l.jsx)(a.SZ,{children:"Let's get your profile set up so you can start your journey"})]}),(0,l.jsxs)(a.aY,{children:[(0,l.jsxs)("div",{className:"mb-8",children:[(0,l.jsx)(m.E,{value:y/P*100,className:"h-2"}),(0,l.jsxs)("p",{className:"text-sm text-gray-500 mt-2",children:["Step ",y," of ",P]})]}),(0,l.jsxs)("form",{onSubmit:e=>e.preventDefault(),children:[(()=>{var e,r,i,o,t,n,s,a,m;switch(y){case 1:return(0,l.jsx)("div",{className:"space-y-6",children:(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{className:"text-lg font-medium mb-4",children:"Choose Your Role"}),(0,l.jsxs)(f.E,{value:k.role,onValueChange:e=>w({...k,role:e}),children:[(0,l.jsxs)("div",{className:"flex items-start space-x-3 mb-4",children:[(0,l.jsx)(f.m,{value:"youth",id:"youth"}),(0,l.jsx)(u._,{htmlFor:"youth",className:"cursor-pointer",children:(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"font-medium",children:"Youth Member"}),(0,l.jsx)("p",{className:"text-sm text-gray-500",children:"I'm here to share my story, find opportunities, and connect with mentors"})]})})]}),(0,l.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,l.jsx)(f.m,{value:"mentor",id:"mentor"}),(0,l.jsx)(u._,{htmlFor:"mentor",className:"cursor-pointer",children:(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"font-medium",children:"Mentor"}),(0,l.jsx)("p",{className:"text-sm text-gray-500",children:"I want to guide and support youth on their journey"})]})})]})]})]})});case 2:return(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsx)("h3",{className:"text-lg font-medium mb-4",children:"Basic Information"}),(0,l.jsxs)("div",{children:[(0,l.jsx)(u._,{htmlFor:"name",children:"Full Name"}),(0,l.jsx)(d.I,{id:"name",value:k.profile.name,onChange:e=>w({...k,profile:{...k.profile,name:e.target.value}}),placeholder:"Enter your full name",required:!0})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)(u._,{htmlFor:"bio",children:"About You"}),(0,l.jsx)(c.g,{id:"bio",value:k.profile.bio,onChange:e=>w({...k,profile:{...k.profile,bio:e.target.value}}),placeholder:"Tell us a bit about yourself",rows:4})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)(u._,{htmlFor:"location",children:"Location"}),(0,l.jsx)(d.I,{id:"location",value:k.profile.location,onChange:e=>w({...k,profile:{...k.profile,location:e.target.value}}),placeholder:"City, State"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)(u._,{htmlFor:"phone",children:"Phone Number (Optional)"}),(0,l.jsx)(d.I,{id:"phone",type:"tel",value:k.profile.phone,onChange:e=>w({...k,profile:{...k.profile,phone:e.target.value}}),placeholder:"+1 (555) 123-4567"})]})]});case 3:if("youth"===k.role)return(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsx)("h3",{className:"text-lg font-medium mb-4",children:"Your Journey"}),(0,l.jsxs)("div",{children:[(0,l.jsx)(u._,{htmlFor:"education",children:"Education Level"}),(0,l.jsx)(d.I,{id:"education",value:(null===(e=k.youthProfile)||void 0===e?void 0:e.education)||"",onChange:e=>{var r,i,l;return w({...k,youthProfile:{...k.youthProfile,education:e.target.value,skills:(null===(r=k.youthProfile)||void 0===r?void 0:r.skills)||[],interests:(null===(i=k.youthProfile)||void 0===i?void 0:i.interests)||[],goals:(null===(l=k.youthProfile)||void 0===l?void 0:l.goals)||""}})},placeholder:"e.g., High School, Some College"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)(u._,{htmlFor:"skills",children:"Skills & Interests"}),(0,l.jsx)(c.g,{id:"skills",value:(null===(i=k.youthProfile)||void 0===i?void 0:null===(r=i.skills)||void 0===r?void 0:r.join(", "))||"",onChange:e=>{var r,i,l;return w({...k,youthProfile:{...k.youthProfile,education:(null===(r=k.youthProfile)||void 0===r?void 0:r.education)||"",skills:e.target.value.split(",").map(e=>e.trim()),interests:(null===(i=k.youthProfile)||void 0===i?void 0:i.interests)||[],goals:(null===(l=k.youthProfile)||void 0===l?void 0:l.goals)||""}})},placeholder:"Enter your skills and interests, separated by commas",rows:3})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)(u._,{htmlFor:"goals",children:"Your Goals"}),(0,l.jsx)(c.g,{id:"goals",value:(null===(o=k.youthProfile)||void 0===o?void 0:o.goals)||"",onChange:e=>{var r,i,l;return w({...k,youthProfile:{...k.youthProfile,education:(null===(r=k.youthProfile)||void 0===r?void 0:r.education)||"",skills:(null===(i=k.youthProfile)||void 0===i?void 0:i.skills)||[],interests:(null===(l=k.youthProfile)||void 0===l?void 0:l.interests)||[],goals:e.target.value}})},placeholder:"What do you hope to achieve?",rows:3})]})]});return(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsx)("h3",{className:"text-lg font-medium mb-4",children:"Mentor Profile"}),(0,l.jsxs)("div",{children:[(0,l.jsx)(u._,{htmlFor:"mentor-skills",children:"Areas of Expertise"}),(0,l.jsx)(c.g,{id:"mentor-skills",value:(null===(n=k.mentorProfile)||void 0===n?void 0:null===(t=n.skills)||void 0===t?void 0:t.join(", "))||"",onChange:e=>{var r,i,l;return w({...k,mentorProfile:{...k.mentorProfile,skills:e.target.value.split(",").map(e=>e.trim()),experience:(null===(r=k.mentorProfile)||void 0===r?void 0:r.experience)||"",availability:(null===(i=k.mentorProfile)||void 0===i?void 0:i.availability)||"",backgroundConsent:(null===(l=k.mentorProfile)||void 0===l?void 0:l.backgroundConsent)||!1}})},placeholder:"e.g., Career counseling, Life skills, Academic support",rows:3})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)(u._,{htmlFor:"experience",children:"Relevant Experience"}),(0,l.jsx)(c.g,{id:"experience",value:(null===(s=k.mentorProfile)||void 0===s?void 0:s.experience)||"",onChange:e=>{var r,i,l;return w({...k,mentorProfile:{...k.mentorProfile,skills:(null===(r=k.mentorProfile)||void 0===r?void 0:r.skills)||[],experience:e.target.value,availability:(null===(i=k.mentorProfile)||void 0===i?void 0:i.availability)||"",backgroundConsent:(null===(l=k.mentorProfile)||void 0===l?void 0:l.backgroundConsent)||!1}})},placeholder:"Describe your experience working with youth",rows:4})]})]});case 4:if("mentor"===k.role)return(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsx)("h3",{className:"text-lg font-medium mb-4",children:"Availability & Verification"}),(0,l.jsxs)("div",{children:[(0,l.jsx)(u._,{htmlFor:"availability",children:"When are you available?"}),(0,l.jsx)(c.g,{id:"availability",value:(null===(a=k.mentorProfile)||void 0===a?void 0:a.availability)||"",onChange:e=>{var r,i,l;return w({...k,mentorProfile:{...k.mentorProfile,skills:(null===(r=k.mentorProfile)||void 0===r?void 0:r.skills)||[],experience:(null===(i=k.mentorProfile)||void 0===i?void 0:i.experience)||"",availability:e.target.value,backgroundConsent:(null===(l=k.mentorProfile)||void 0===l?void 0:l.backgroundConsent)||!1}})},placeholder:"e.g., Weekday evenings, Weekend mornings",rows:3})]}),(0,l.jsxs)("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg",children:[(0,l.jsx)("h4",{className:"font-medium mb-2",children:"Background Check Required"}),(0,l.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-3",children:"To ensure the safety of our youth members, all mentors must complete a background check."}),(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,l.jsx)("input",{type:"checkbox",id:"consent",checked:(null===(m=k.mentorProfile)||void 0===m?void 0:m.backgroundConsent)||!1,onChange:e=>{var r,i,l;return w({...k,mentorProfile:{...k.mentorProfile,skills:(null===(r=k.mentorProfile)||void 0===r?void 0:r.skills)||[],experience:(null===(i=k.mentorProfile)||void 0===i?void 0:i.experience)||"",availability:(null===(l=k.mentorProfile)||void 0===l?void 0:l.availability)||"",backgroundConsent:e.target.checked}})}}),(0,l.jsx)(u._,{htmlFor:"consent",className:"text-sm cursor-pointer",children:"I consent to a background check"})]})]})]});return null;default:return null}})(),(0,l.jsxs)("div",{className:"flex justify-between mt-8",children:[(0,l.jsxs)(s.z,{type:"button",variant:"outline",onClick:()=>{y>1&&b(y-1)},disabled:1===y,children:[(0,l.jsx)(h.Z,{className:"h-4 w-4 mr-2"}),"Back"]}),y<P?(0,l.jsxs)(s.z,{type:"button",onClick:()=>{y<P&&b(y+1)},disabled:!_(),children:["Next",(0,l.jsx)(v.Z,{className:"h-4 w-4 ml-2"})]}):(0,l.jsx)(s.z,{type:"button",onClick:C,disabled:!_()||j,children:j?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(x.Z,{className:"h-4 w-4 mr-2 animate-spin"}),"Setting up..."]}):(0,l.jsxs)(l.Fragment,{children:["Complete Setup",(0,l.jsx)(p.Z,{className:"h-4 w-4 ml-2"})]})})]})]})]})]})})}},9733:function(e,r,i){"use strict";i.d(r,{z:function(){return d}});var l=i(7437),o=i(2265),t=i(1538),n=i(3027),s=i(9354);let a=(0,n.j)("inline-flex items-center justify-center whitespace-nowrap rounded-sm text-sm font-medium ring-offset-background transition-all duration-200 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring focus-visible:ring-offset-1 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/90",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-sm px-3",lg:"h-11 rounded-sm px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=o.forwardRef((e,r)=>{let{className:i,variant:o,size:n,asChild:d=!1,...u}=e,c=d?t.g7:"button";return(0,l.jsx)(c,{className:(0,s.cn)(a({variant:o,size:n,className:i})),ref:r,...u})});d.displayName="Button"},8185:function(e,r,i){"use strict";i.d(r,{Ol:function(){return s},SZ:function(){return d},Zb:function(){return n},aY:function(){return u},ll:function(){return a}});var l=i(7437),o=i(2265),t=i(9354);let n=o.forwardRef((e,r)=>{let{className:i,...o}=e;return(0,l.jsx)("div",{ref:r,className:(0,t.cn)("rounded-sm border bg-card text-card-foreground",i),...o})});n.displayName="Card";let s=o.forwardRef((e,r)=>{let{className:i,...o}=e;return(0,l.jsx)("div",{ref:r,className:(0,t.cn)("flex flex-col space-y-1.5 p-6",i),...o})});s.displayName="CardHeader";let a=o.forwardRef((e,r)=>{let{className:i,...o}=e;return(0,l.jsx)("h3",{ref:r,className:(0,t.cn)("text-2xl font-semibold leading-none tracking-tight",i),...o})});a.displayName="CardTitle";let d=o.forwardRef((e,r)=>{let{className:i,...o}=e;return(0,l.jsx)("p",{ref:r,className:(0,t.cn)("text-sm text-muted-foreground",i),...o})});d.displayName="CardDescription";let u=o.forwardRef((e,r)=>{let{className:i,...o}=e;return(0,l.jsx)("div",{ref:r,className:(0,t.cn)("p-6 pt-0",i),...o})});u.displayName="CardContent",o.forwardRef((e,r)=>{let{className:i,...o}=e;return(0,l.jsx)("div",{ref:r,className:(0,t.cn)("flex items-center p-6 pt-0",i),...o})}).displayName="CardFooter"},7209:function(e,r,i){"use strict";i.d(r,{I:function(){return n}});var l=i(7437),o=i(2265),t=i(9354);let n=o.forwardRef((e,r)=>{let{className:i,type:o,...n}=e;return(0,l.jsx)("input",{type:o,className:(0,t.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",i),ref:r,...n})});n.displayName="Input"},402:function(e,r,i){"use strict";i.d(r,{_:function(){return d}});var l=i(7437),o=i(2265),t=i(8364),n=i(3027),s=i(9354);let a=(0,n.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=o.forwardRef((e,r)=>{let{className:i,...o}=e;return(0,l.jsx)(t.f,{ref:r,className:(0,s.cn)(a(),i),...o})});d.displayName=t.f.displayName},1617:function(e,r,i){"use strict";i.d(r,{E:function(){return s}});var l=i(7437),o=i(2265),t=i(2431),n=i(9354);let s=o.forwardRef((e,r)=>{let{className:i,value:o,...s}=e;return(0,l.jsx)(t.fC,{ref:r,className:(0,n.cn)("relative h-4 w-full overflow-hidden rounded-full bg-secondary",i),...s,children:(0,l.jsx)(t.z$,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:"translateX(-".concat(100-(o||0),"%)")}})})});s.displayName=t.fC.displayName},112:function(e,r,i){"use strict";i.d(r,{E:function(){return a},m:function(){return d}});var l=i(7437),o=i(2265),t=i(9497),n=i(8165),s=i(9354);let a=o.forwardRef((e,r)=>{let{className:i,...o}=e;return(0,l.jsx)(t.fC,{className:(0,s.cn)("grid gap-2",i),...o,ref:r})});a.displayName=t.fC.displayName;let d=o.forwardRef((e,r)=>{let{className:i,...o}=e;return(0,l.jsx)(t.ck,{ref:r,className:(0,s.cn)("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",i),...o,children:(0,l.jsx)(t.z$,{className:"flex items-center justify-center",children:(0,l.jsx)(n.Z,{className:"h-2.5 w-2.5 fill-current text-current"})})})});d.displayName=t.ck.displayName},4919:function(e,r,i){"use strict";i.d(r,{g:function(){return n}});var l=i(7437),o=i(2265),t=i(9354);let n=o.forwardRef((e,r)=>{let{className:i,...o}=e;return(0,l.jsx)("textarea",{className:(0,t.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",i),ref:r,...o})});n.displayName="Textarea"},2727:function(e,r,i){"use strict";i.d(r,{SE:function(){return a},dr:function(){return s}});var l=i(7437),o=i(2265),t=i(6853);let n=(0,o.createContext)(void 0);function s(e){var r;let{children:i}=e,{user:s,error:a,isLoading:d}=(0,t.aF)(),[u,c]=(0,o.useState)(null),[f,m]=(0,o.useState)(!0),[h,v]=(0,o.useState)(null),x=async()=>{if(!s){c(null),m(!1);return}try{let e=await fetch("/api/users/profile");if(!e.ok)throw Error("Failed to fetch user profile");let r=await e.json();c(r)}catch(e){v(e instanceof Error?e:Error("Unknown error"))}finally{m(!1)}};(0,o.useEffect)(()=>{d||x()},[s,d,!1]),!u||(null===(r=u.profile)||void 0===r?void 0:r.name)&&u.role&&u.role;let p=async()=>{m(!0),await x()},g=(null==u?void 0:u.role)||"youth";return(0,l.jsx)(n.Provider,{value:{user:u,isLoading:f||d,error:h||a,role:g,refreshUser:p},children:i})}function a(){let e=(0,o.useContext)(n);if(void 0===e)throw Error("useUserContext must be used within a UserProvider");return e}},9354:function(e,r,i){"use strict";i.d(r,{cn:function(){return t}});var l=i(4839),o=i(6164);function t(){for(var e=arguments.length,r=Array(e),i=0;i<e;i++)r[i]=arguments[i];return(0,o.m6)((0,l.W)(r))}}},function(e){e.O(0,[4485,8089,6853,6580,2971,7023,1744],function(){return e(e.s=5117)}),_N_E=e.O()}]);