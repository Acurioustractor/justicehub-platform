(()=>{var e={};e.id=8444,e.ids=[8444],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},75884:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>i.a,__next_app__:()=>h,originalPathname:()=>u,pages:()=>d,routeModule:()=>m,tree:()=>c}),t(1353),t(64968),t(7629),t(12523);var a=t(23191),r=t(88716),l=t(37922),i=t.n(l),n=t(95231),o={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>n[e]);t.d(s,o);let c=["",{children:["stories",{children:["browse",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,1353)),"/Users/benknight/Code/JusticeHub/src/app/stories/browse/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,64968)),"/Users/benknight/Code/JusticeHub/src/app/layout.tsx"],error:[()=>Promise.resolve().then(t.bind(t,7629)),"/Users/benknight/Code/JusticeHub/src/app/error.tsx"],"not-found":[()=>Promise.resolve().then(t.bind(t,12523)),"/Users/benknight/Code/JusticeHub/src/app/not-found.tsx"]}],d=["/Users/benknight/Code/JusticeHub/src/app/stories/browse/page.tsx"],u="/stories/browse/page",h={require:t,loadChunk:()=>Promise.resolve()},m=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/stories/browse/page",pathname:"/stories/browse",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},70988:(e,s,t)=>{Promise.resolve().then(t.bind(t,51336))},24230:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(62881).Z)("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]])},6343:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(62881).Z)("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]])},37358:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(62881).Z)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},39183:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(62881).Z)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])},48998:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(62881).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},87757:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(62881).Z)("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]])},88319:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(62881).Z)("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]])},41137:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(62881).Z)("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]])},88307:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(62881).Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},1572:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(62881).Z)("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]])},17069:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(62881).Z)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]])},79635:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(62881).Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},51336:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>sI});var a=t(10326),r=t(17577),l=t(44976),i=t(20108),n=t(10119),o=t(29752),c=t(38443),d=t(91664),u=t(41190),h=t(29280),m=t(38227),x=t(50384),p=t(87757),f=t(88319),j=t(54014),g=t(38787),v=t(24061),y=t(9015),b=t(12714),N=t(62881);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let w=(0,N.Z)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);var k=t(88307),C=t(41137),S=t(37358),M=t(48998),R=t(40765),Z=t(39183),D=t(90434);function _({initialFilter:e={},showHeader:s=!0,showStats:t=!0}){let[N,_]=(0,r.useState)(""),[P,z]=(0,r.useState)(!1),{stories:A,total:E,hasMore:F,isLoading:O,error:T,refetch:I,loadMore:L,search:V,updateFilter:q}=function(e={}){let[s,t]=(0,r.useState)({source:"all",limit:20,offset:0,sortBy:"createdAt",sortOrder:"desc",...e}),a=(0,l.NL)(),{data:o,isLoading:c,error:d,refetch:u}=(0,i.a)({queryKey:["unified-stories",s],queryFn:async()=>{let e=new URLSearchParams;Object.entries(s).forEach(([s,t])=>{null!=t&&(Array.isArray(t)?e.append(s,t.join(",")):e.append(s,String(t)))});let t=await fetch(`/api/stories/unified?${e}`);if(!t.ok)throw Error("Failed to fetch stories");return t.json()},staleTime:3e5}),h=(0,n.D)({mutationFn:async e=>{let s=await fetch("/api/stories/unified",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:e})});if(!s.ok)throw Error("Failed to search stories");return s.json()},onSuccess:e=>{a.setQueryData(["unified-stories",s],{stories:e.stories,total:e.stories.length,hasMore:!1})}}),m=(0,r.useCallback)(e=>{t(s=>({...s,...e,offset:void 0!==e.offset?e.offset:0}))},[]),x=(0,r.useCallback)(()=>{o?.hasMore&&t(e=>({...e,offset:(e.offset||0)+(e.limit||20)}))},[o?.hasMore]),p=(0,r.useCallback)(e=>{e.trim()?h.mutate(e):m({search:void 0})},[h,m]);return{stories:o?.stories||[],total:o?.total||0,hasMore:o?.hasMore||!1,isLoading:c||h.isPending,error:d||h.error,refetch:u,loadMore:x,search:p,updateFilter:m}}(e),H=e=>"airtable"===e?a.jsx(p.Z,{className:"h-3 w-3"}):a.jsx(f.Z,{className:"h-3 w-3"}),U=e=>{switch(e){case"public":return a.jsx(j.Z,{className:"h-4 w-4 text-green-600"});case"organization":return a.jsx(g.Z,{className:"h-4 w-4 text-blue-600"});case"mentors":return a.jsx(v.Z,{className:"h-4 w-4 text-purple-600"});case"private":return a.jsx(y.Z,{className:"h-4 w-4 text-gray-600"});case"anonymous":return a.jsx(b.Z,{className:"h-4 w-4 text-orange-600"});default:return null}},W=(e,s=200)=>{let t=e.replace(/<[^>]*>/g,"").trim();return t.length<=s?t:t.slice(0,s)+"..."},Y=e=>e?("string"==typeof e?new Date(e):e).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"Not published";return T?a.jsx(o.Zb,{children:(0,a.jsxs)(o.aY,{className:"text-center py-8",children:[a.jsx("p",{className:"text-red-500 mb-4",children:"Error loading stories"}),(0,a.jsxs)(d.z,{onClick:()=>I(),children:[a.jsx(w,{className:"h-4 w-4 mr-2"}),"Retry"]})]})}):(0,a.jsxs)("div",{className:"space-y-6",children:[s&&(0,a.jsxs)(a.Fragment,{children:[a.jsx(o.Zb,{children:(0,a.jsxs)(o.aY,{className:"p-4",children:[(0,a.jsxs)("form",{onSubmit:e=>{e.preventDefault(),V(N)},className:"flex gap-2",children:[(0,a.jsxs)("div",{className:"relative flex-1",children:[a.jsx(k.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),a.jsx(u.I,{type:"search",placeholder:"Search stories by title, content, or tags...",value:N,onChange:e=>_(e.target.value),className:"pl-10"})]}),a.jsx(d.z,{type:"submit",children:"Search"}),a.jsx(d.z,{type:"button",variant:"outline",onClick:()=>z(!P),children:a.jsx(C.Z,{className:"h-4 w-4"})})]}),P&&(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-4 pt-4 border-t",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Source"}),a.jsx(x.mQ,{defaultValue:e.source||"all",onValueChange:e=>q({source:e}),children:(0,a.jsxs)(x.dr,{className:"grid grid-cols-3 w-full",children:[a.jsx(x.SP,{value:"all",children:"All"}),a.jsx(x.SP,{value:"local",children:"Local"}),a.jsx(x.SP,{value:"airtable",children:"Airtable"})]})})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Type"}),(0,a.jsxs)(h.Ph,{onValueChange:e=>q({storyType:[e]}),children:[a.jsx(h.i4,{children:a.jsx(h.ki,{placeholder:"All types"})}),(0,a.jsxs)(h.Bw,{children:[a.jsx(h.Ql,{value:"all",children:"All types"}),a.jsx(h.Ql,{value:"reflection",children:"Reflection"}),a.jsx(h.Ql,{value:"milestone",children:"Milestone"}),a.jsx(h.Ql,{value:"challenge",children:"Challenge"}),a.jsx(h.Ql,{value:"achievement",children:"Achievement"}),a.jsx(h.Ql,{value:"goal",children:"Goal"}),a.jsx(h.Ql,{value:"update",children:"Update"})]})]})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Sort by"}),(0,a.jsxs)(h.Ph,{defaultValue:"createdAt",onValueChange:e=>q({sortBy:e}),children:[a.jsx(h.i4,{children:a.jsx(h.ki,{})}),(0,a.jsxs)(h.Bw,{children:[a.jsx(h.Ql,{value:"createdAt",children:"Latest"}),a.jsx(h.Ql,{value:"publishedAt",children:"Recently Published"}),a.jsx(h.Ql,{value:"title",children:"Title"})]})]})]})]})]})}),t&&(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[a.jsx(o.Zb,{children:(0,a.jsxs)(o.aY,{className:"p-4 text-center",children:[a.jsx("p",{className:"text-2xl font-bold",children:E}),a.jsx("p",{className:"text-sm text-gray-600",children:"Total Stories"})]})}),a.jsx(o.Zb,{children:(0,a.jsxs)(o.aY,{className:"p-4 text-center",children:[a.jsx("p",{className:"text-2xl font-bold",children:A.filter(e=>"local"===e.source).length}),a.jsx("p",{className:"text-sm text-gray-600",children:"Local Stories"})]})}),a.jsx(o.Zb,{children:(0,a.jsxs)(o.aY,{className:"p-4 text-center",children:[a.jsx("p",{className:"text-2xl font-bold",children:A.filter(e=>"airtable"===e.source).length}),a.jsx("p",{className:"text-sm text-gray-600",children:"Airtable Stories"})]})}),a.jsx(o.Zb,{children:(0,a.jsxs)(o.aY,{className:"p-4 text-center",children:[a.jsx("p",{className:"text-2xl font-bold",children:A.filter(e=>e.published).length}),a.jsx("p",{className:"text-sm text-gray-600",children:"Published"})]})})]})]}),O&&0===A.length&&a.jsx("div",{className:"space-y-4",children:[1,2,3].map(e=>(0,a.jsxs)(o.Zb,{children:[(0,a.jsxs)(o.Ol,{children:[a.jsx(m.O,{className:"h-6 w-3/4"}),a.jsx(m.O,{className:"h-4 w-1/2 mt-2"})]}),a.jsx(o.aY,{children:a.jsx(m.O,{className:"h-20 w-full"})})]},e))}),0!==A.length||O?a.jsx("div",{className:"space-y-4",children:A.map(e=>a.jsx(o.Zb,{className:"hover:shadow-lg transition-shadow",children:(0,a.jsxs)(D.default,{href:`/stories/${e.id}`,children:[a.jsx(o.Ol,{children:(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{className:"flex-1",children:[a.jsx("h3",{className:"text-xl font-semibold mb-2",children:e.title}),(0,a.jsxs)("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[a.jsx(S.Z,{className:"h-3 w-3"}),a.jsx("span",{children:Y(e.publishedAt||e.createdAt)})]}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[a.jsx(M.Z,{className:"h-3 w-3"}),(0,a.jsxs)("span",{children:[e.metadata?.readingTime||1," min read"]})]}),a.jsx(c.C,{variant:"outline",className:"capitalize",children:e.storyType}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[H(e.source),a.jsx("span",{className:"text-xs",children:e.source})]})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[U(e.visibility),a.jsx("span",{className:"text-sm text-gray-500",children:{public:"Public",organization:"Organization Only",mentors:"Mentors Only",private:"Private",anonymous:"Anonymous"}[e.visibility]||"Unknown"})]})]})}),(0,a.jsxs)(o.aY,{children:[a.jsx("p",{className:"text-gray-700 dark:text-gray-300 mb-4",children:W(e.content)}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 flex-wrap",children:[e.author&&a.jsx(c.C,{variant:"secondary",children:e.author.name}),e.tags?.slice(0,3).map(e=>a.jsxs(c.C,{variant:"outline",children:[a.jsx(R.Z,{className:"h-3 w-3 mr-1"}),e]},e)),e.tags&&e.tags.length>3&&(0,a.jsxs)("span",{className:"text-xs text-gray-500",children:["+",e.tags.length-3," more"]})]}),(0,a.jsxs)(d.z,{variant:"ghost",size:"sm",children:["Read More",a.jsx(Z.Z,{className:"h-4 w-4 ml-1"})]})]})]})]})},e.id))}):a.jsx(o.Zb,{children:(0,a.jsxs)(o.aY,{className:"text-center py-12",children:[a.jsx("p",{className:"text-gray-500 mb-4",children:"No stories found"}),a.jsx(D.default,{href:"/stories/new",children:a.jsx(d.z,{children:"Create Your First Story"})})]})}),F&&a.jsx("div",{className:"text-center",children:a.jsx(d.z,{onClick:L,disabled:O,variant:"outline",children:O?(0,a.jsxs)(a.Fragment,{children:[a.jsx(w,{className:"h-4 w-4 mr-2 animate-spin"}),"Loading..."]}):"Load More Stories"})})]})}var P=t(27299),z=t(48051),A=t(93095),E=t(82561),F=t(52067),O=t(53405),T=t(2566),I=t(9815),L=t(45226),V="Checkbox",[q,H]=(0,A.b)(V),[U,W]=q(V);function Y(e){let{__scopeCheckbox:s,checked:t,children:l,defaultChecked:i,disabled:n,form:o,name:c,onCheckedChange:d,required:u,value:h="on",internal_do_not_use_render:m}=e,[x,p]=(0,F.T)({prop:t,defaultProp:i??!1,onChange:d,caller:V}),[f,j]=r.useState(null),[g,v]=r.useState(null),y=r.useRef(!1),b=!f||!!o||!!f.closest("form"),N={checked:x,disabled:n,setChecked:p,control:f,setControl:j,name:c,form:o,value:h,hasConsumerStoppedPropagationRef:y,required:u,defaultChecked:!ee(i)&&i,isFormControl:b,bubbleInput:g,setBubbleInput:v};return(0,a.jsx)(U,{scope:s,...N,children:"function"==typeof m?m(N):l})}var $="CheckboxTrigger",K=r.forwardRef(({__scopeCheckbox:e,onKeyDown:s,onClick:t,...l},i)=>{let{control:n,value:o,disabled:c,checked:d,required:u,setControl:h,setChecked:m,hasConsumerStoppedPropagationRef:x,isFormControl:p,bubbleInput:f}=W($,e),j=(0,z.e)(i,h),g=r.useRef(d);return r.useEffect(()=>{let e=n?.form;if(e){let s=()=>m(g.current);return e.addEventListener("reset",s),()=>e.removeEventListener("reset",s)}},[n,m]),(0,a.jsx)(L.WV.button,{type:"button",role:"checkbox","aria-checked":ee(d)?"mixed":d,"aria-required":u,"data-state":es(d),"data-disabled":c?"":void 0,disabled:c,value:o,...l,ref:j,onKeyDown:(0,E.M)(s,e=>{"Enter"===e.key&&e.preventDefault()}),onClick:(0,E.M)(t,e=>{m(e=>!!ee(e)||!e),f&&p&&(x.current=e.isPropagationStopped(),x.current||e.stopPropagation())})})});K.displayName=$;var B=r.forwardRef((e,s)=>{let{__scopeCheckbox:t,name:r,checked:l,defaultChecked:i,required:n,disabled:o,value:c,onCheckedChange:d,form:u,...h}=e;return(0,a.jsx)(Y,{__scopeCheckbox:t,checked:l,defaultChecked:i,disabled:o,required:n,onCheckedChange:d,name:r,form:u,value:c,internal_do_not_use_render:({isFormControl:e})=>(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(K,{...h,ref:s,__scopeCheckbox:t}),e&&(0,a.jsx)(X,{__scopeCheckbox:t})]})})});B.displayName=V;var Q="CheckboxIndicator",J=r.forwardRef((e,s)=>{let{__scopeCheckbox:t,forceMount:r,...l}=e,i=W(Q,t);return(0,a.jsx)(I.z,{present:r||ee(i.checked)||!0===i.checked,children:(0,a.jsx)(L.WV.span,{"data-state":es(i.checked),"data-disabled":i.disabled?"":void 0,...l,ref:s,style:{pointerEvents:"none",...e.style}})})});J.displayName=Q;var G="CheckboxBubbleInput",X=r.forwardRef(({__scopeCheckbox:e,...s},t)=>{let{control:l,hasConsumerStoppedPropagationRef:i,checked:n,defaultChecked:o,required:c,disabled:d,name:u,value:h,form:m,bubbleInput:x,setBubbleInput:p}=W(G,e),f=(0,z.e)(t,p),j=(0,O.D)(n),g=(0,T.t)(l);r.useEffect(()=>{if(!x)return;let e=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set,s=!i.current;if(j!==n&&e){let t=new Event("click",{bubbles:s});x.indeterminate=ee(n),e.call(x,!ee(n)&&n),x.dispatchEvent(t)}},[x,j,n,i]);let v=r.useRef(!ee(n)&&n);return(0,a.jsx)(L.WV.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??v.current,required:c,disabled:d,name:u,value:h,form:m,...s,tabIndex:-1,ref:f,style:{...s.style,...g,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});function ee(e){return"indeterminate"===e}function es(e){return ee(e)?"indeterminate":e?"checked":"unchecked"}X.displayName=G;var et=t(32933),ea=t(51223);let er=r.forwardRef(({className:e,...s},t)=>a.jsx(B,{ref:t,className:(0,ea.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...s,children:a.jsx(J,{className:(0,ea.cn)("flex items-center justify-center text-current"),children:a.jsx(et.Z,{className:"h-4 w-4"})})}));er.displayName=B.displayName;var el=t(17583),ei=t(72427),en=t(37125),eo=t(17124),ec=t(70545),ed=["PageUp","PageDown"],eu=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],eh={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},em="Slider",[ex,ep,ef]=(0,ec.B)(em),[ej,eg]=(0,A.b)(em,[ef]),[ev,ey]=ej(em),eb=r.forwardRef((e,s)=>{let{name:t,min:l=0,max:i=100,step:n=1,orientation:o="horizontal",disabled:c=!1,minStepsBetweenThumbs:d=0,defaultValue:u=[l],value:h,onValueChange:m=()=>{},onValueCommit:x=()=>{},inverted:p=!1,form:f,...j}=e,g=r.useRef(new Set),v=r.useRef(0),y="horizontal"===o?ek:eC,[b=[],N]=(0,F.T)({prop:h,defaultProp:u,onChange:e=>{let s=[...g.current];s[v.current]?.focus(),m(e)}}),w=r.useRef(b);function k(e,s,{commit:t}={commit:!1}){let a=(String(n).split(".")[1]||"").length,r=function(e,s){let t=Math.pow(10,s);return Math.round(e*t)/t}(Math.round((e-l)/n)*n+l,a),o=(0,en.u)(r,[l,i]);N((e=[])=>{var a,r;let l=function(e=[],s,t){let a=[...e];return a[t]=s,a.sort((e,s)=>e-s)}(e,o,s);if(a=l,!(!((r=d*n)>0)||Math.min(...a.slice(0,-1).map((e,s)=>a[s+1]-e))>=r))return e;{v.current=l.indexOf(o);let s=String(l)!==String(e);return s&&t&&x(l),s?l:e}})}return(0,a.jsx)(ev,{scope:e.__scopeSlider,name:t,disabled:c,min:l,max:i,valueIndexToChangeRef:v,thumbs:g.current,values:b,orientation:o,form:f,children:(0,a.jsx)(ex.Provider,{scope:e.__scopeSlider,children:(0,a.jsx)(ex.Slot,{scope:e.__scopeSlider,children:(0,a.jsx)(y,{"aria-disabled":c,"data-disabled":c?"":void 0,...j,ref:s,onPointerDown:(0,E.M)(j.onPointerDown,()=>{c||(w.current=b)}),min:l,max:i,inverted:p,onSlideStart:c?void 0:function(e){let s=function(e,s){if(1===e.length)return 0;let t=e.map(e=>Math.abs(e-s));return t.indexOf(Math.min(...t))}(b,e);k(e,s)},onSlideMove:c?void 0:function(e){k(e,v.current)},onSlideEnd:c?void 0:function(){let e=w.current[v.current];b[v.current]!==e&&x(b)},onHomeKeyDown:()=>!c&&k(l,0,{commit:!0}),onEndKeyDown:()=>!c&&k(i,b.length-1,{commit:!0}),onStepKeyDown:({event:e,direction:s})=>{if(!c){let t=ed.includes(e.key)||e.shiftKey&&eu.includes(e.key),a=v.current;k(b[a]+n*(t?10:1)*s,a,{commit:!0})}}})})})})});eb.displayName=em;var[eN,ew]=ej(em,{startEdge:"left",endEdge:"right",size:"width",direction:1}),ek=r.forwardRef((e,s)=>{let{min:t,max:l,dir:i,inverted:n,onSlideStart:o,onSlideMove:c,onSlideEnd:d,onStepKeyDown:u,...h}=e,[m,x]=r.useState(null),p=(0,z.e)(s,e=>x(e)),f=r.useRef(void 0),j=(0,eo.gm)(i),g="ltr"===j,v=g&&!n||!g&&n;function y(e){let s=f.current||m.getBoundingClientRect(),a=eF([0,s.width],v?[t,l]:[l,t]);return f.current=s,a(e-s.left)}return(0,a.jsx)(eN,{scope:e.__scopeSlider,startEdge:v?"left":"right",endEdge:v?"right":"left",direction:v?1:-1,size:"width",children:(0,a.jsx)(eS,{dir:j,"data-orientation":"horizontal",...h,ref:p,style:{...h.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:e=>{let s=y(e.clientX);o?.(s)},onSlideMove:e=>{let s=y(e.clientX);c?.(s)},onSlideEnd:()=>{f.current=void 0,d?.()},onStepKeyDown:e=>{let s=eh[v?"from-left":"from-right"].includes(e.key);u?.({event:e,direction:s?-1:1})}})})}),eC=r.forwardRef((e,s)=>{let{min:t,max:l,inverted:i,onSlideStart:n,onSlideMove:o,onSlideEnd:c,onStepKeyDown:d,...u}=e,h=r.useRef(null),m=(0,z.e)(s,h),x=r.useRef(void 0),p=!i;function f(e){let s=x.current||h.current.getBoundingClientRect(),a=eF([0,s.height],p?[l,t]:[t,l]);return x.current=s,a(e-s.top)}return(0,a.jsx)(eN,{scope:e.__scopeSlider,startEdge:p?"bottom":"top",endEdge:p?"top":"bottom",size:"height",direction:p?1:-1,children:(0,a.jsx)(eS,{"data-orientation":"vertical",...u,ref:m,style:{...u.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:e=>{let s=f(e.clientY);n?.(s)},onSlideMove:e=>{let s=f(e.clientY);o?.(s)},onSlideEnd:()=>{x.current=void 0,c?.()},onStepKeyDown:e=>{let s=eh[p?"from-bottom":"from-top"].includes(e.key);d?.({event:e,direction:s?-1:1})}})})}),eS=r.forwardRef((e,s)=>{let{__scopeSlider:t,onSlideStart:r,onSlideMove:l,onSlideEnd:i,onHomeKeyDown:n,onEndKeyDown:o,onStepKeyDown:c,...d}=e,u=ey(em,t);return(0,a.jsx)(L.WV.span,{...d,ref:s,onKeyDown:(0,E.M)(e.onKeyDown,e=>{"Home"===e.key?(n(e),e.preventDefault()):"End"===e.key?(o(e),e.preventDefault()):ed.concat(eu).includes(e.key)&&(c(e),e.preventDefault())}),onPointerDown:(0,E.M)(e.onPointerDown,e=>{let s=e.target;s.setPointerCapture(e.pointerId),e.preventDefault(),u.thumbs.has(s)?s.focus():r(e)}),onPointerMove:(0,E.M)(e.onPointerMove,e=>{e.target.hasPointerCapture(e.pointerId)&&l(e)}),onPointerUp:(0,E.M)(e.onPointerUp,e=>{let s=e.target;s.hasPointerCapture(e.pointerId)&&(s.releasePointerCapture(e.pointerId),i(e))})})}),eM="SliderTrack",eR=r.forwardRef((e,s)=>{let{__scopeSlider:t,...r}=e,l=ey(eM,t);return(0,a.jsx)(L.WV.span,{"data-disabled":l.disabled?"":void 0,"data-orientation":l.orientation,...r,ref:s})});eR.displayName=eM;var eZ="SliderRange",eD=r.forwardRef((e,s)=>{let{__scopeSlider:t,...l}=e,i=ey(eZ,t),n=ew(eZ,t),o=r.useRef(null),c=(0,z.e)(s,o),d=i.values.length,u=i.values.map(e=>eE(e,i.min,i.max));return(0,a.jsx)(L.WV.span,{"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,...l,ref:c,style:{...e.style,[n.startEdge]:(d>1?Math.min(...u):0)+"%",[n.endEdge]:100-Math.max(...u)+"%"}})});eD.displayName=eZ;var e_="SliderThumb",eP=r.forwardRef((e,s)=>{let t=ep(e.__scopeSlider),[l,i]=r.useState(null),n=(0,z.e)(s,e=>i(e)),o=r.useMemo(()=>l?t().findIndex(e=>e.ref.current===l):-1,[t,l]);return(0,a.jsx)(ez,{...e,ref:n,index:o})}),ez=r.forwardRef((e,s)=>{let{__scopeSlider:t,index:l,name:i,...n}=e,o=ey(e_,t),c=ew(e_,t),[d,u]=r.useState(null),h=(0,z.e)(s,e=>u(e)),m=!d||o.form||!!d.closest("form"),x=(0,T.t)(d),p=o.values[l],f=void 0===p?0:eE(p,o.min,o.max),j=function(e,s){return s>2?`Value ${e+1} of ${s}`:2===s?["Minimum","Maximum"][e]:void 0}(l,o.values.length),g=x?.[c.size],v=g?function(e,s,t){let a=e/2,r=eF([0,50],[0,a]);return(a-r(s)*t)*t}(g,f,c.direction):0;return r.useEffect(()=>{if(d)return o.thumbs.add(d),()=>{o.thumbs.delete(d)}},[d,o.thumbs]),(0,a.jsxs)("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[c.startEdge]:`calc(${f}% + ${v}px)`},children:[(0,a.jsx)(ex.ItemSlot,{scope:e.__scopeSlider,children:(0,a.jsx)(L.WV.span,{role:"slider","aria-label":e["aria-label"]||j,"aria-valuemin":o.min,"aria-valuenow":p,"aria-valuemax":o.max,"aria-orientation":o.orientation,"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,tabIndex:o.disabled?void 0:0,...n,ref:h,style:void 0===p?{display:"none"}:e.style,onFocus:(0,E.M)(e.onFocus,()=>{o.valueIndexToChangeRef.current=l})})}),m&&(0,a.jsx)(eA,{name:i??(o.name?o.name+(o.values.length>1?"[]":""):void 0),form:o.form,value:p},l)]})});eP.displayName=e_;var eA=r.forwardRef(({__scopeSlider:e,value:s,...t},l)=>{let i=r.useRef(null),n=(0,z.e)(i,l),o=(0,O.D)(s);return r.useEffect(()=>{let e=i.current;if(!e)return;let t=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"value").set;if(o!==s&&t){let a=new Event("input",{bubbles:!0});t.call(e,s),e.dispatchEvent(a)}},[o,s]),(0,a.jsx)(L.WV.input,{style:{display:"none"},...t,ref:n,defaultValue:s})});function eE(e,s,t){return(0,en.u)(100/(t-s)*(e-s),[0,100])}function eF(e,s){return t=>{if(e[0]===e[1]||s[0]===s[1])return s[0];let a=(s[1]-s[0])/(e[1]-e[0]);return s[0]+a*(t-e[0])}}eA.displayName="RadioBubbleInput";let eO=r.forwardRef(({className:e,...s},t)=>(0,a.jsxs)(eb,{ref:t,className:(0,ea.cn)("relative flex w-full touch-none select-none items-center",e),...s,children:[a.jsx(eR,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:a.jsx(eD,{className:"absolute h-full bg-primary"})}),a.jsx(eP,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));eO.displayName=eb.displayName;/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let eT=(0,N.Z)("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]),eI=[{value:"reflection",label:"Reflection",icon:"\uD83D\uDCAD"},{value:"milestone",label:"Milestone",icon:"\uD83C\uDFC6"},{value:"challenge",label:"Challenge",icon:"\uD83C\uDFAF"},{value:"achievement",label:"Achievement",icon:"⭐"},{value:"goal",label:"Goal",icon:"\uD83C\uDFAF"},{value:"update",label:"Update",icon:"\uD83D\uDCDD"}],eL=[{value:"public",label:"Public",icon:j.Z},{value:"organization",label:"Organization",icon:v.Z},{value:"mentors",label:"Mentors Only",icon:v.Z},{value:"private",label:"Private",icon:y.Z},{value:"anonymous",label:"Anonymous",icon:b.Z}];function eV({filters:e,onChange:s,availableTags:t=[],showAdvanced:l=!0,orientation:i="vertical",className:n=""}){let[u,h]=(0,r.useState)(!1),[m,x]=(0,r.useState)(""),j=["all"!==e.source?1:0,e.storyTypes.length,e.visibility.length,e.tags.length,e.dateRange.enabled?1:0,void 0!==e.published?1:0,void 0!==e.hasMedia?1:0,e.minWords?1:0].reduce((e,s)=>e+s,0),g=(t,a)=>{s({...e,[t]:a})},v=(s,t)=>{let a=e[s];g(s,a.includes(t)?a.filter(e=>e!==t):[...a,t])},y=()=>{s({source:"all",storyTypes:[],visibility:[],tags:[],dateRange:{enabled:!1},published:void 0,hasMedia:void 0,minWords:void 0})},b=e=>{let s=new Date,t=new Date;switch(e){case"today":t.setHours(0,0,0,0);break;case"week":t.setDate(s.getDate()-7);break;case"month":t.setMonth(s.getMonth()-1);break;case"year":t.setFullYear(s.getFullYear()-1)}g("dateRange",{enabled:!0,start:t,end:s,preset:e})};return"horizontal"===i?a.jsx(o.Zb,{className:n,children:a.jsx(o.aY,{className:"p-4",children:(0,a.jsxs)("div",{className:"flex items-center gap-4 flex-wrap",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx(P._,{className:"text-sm",children:"Source:"}),(0,a.jsxs)(el.E,{value:e.source,onValueChange:e=>g("source",e),className:"flex gap-2",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[a.jsx(el.m,{value:"all",id:"source-all"}),a.jsx(P._,{htmlFor:"source-all",className:"text-sm cursor-pointer",children:"All"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[a.jsx(el.m,{value:"local",id:"source-local"}),(0,a.jsxs)(P._,{htmlFor:"source-local",className:"text-sm cursor-pointer",children:[a.jsx(f.Z,{className:"h-3 w-3 inline mr-1"}),"Local"]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[a.jsx(el.m,{value:"airtable",id:"source-airtable"}),(0,a.jsxs)(P._,{htmlFor:"source-airtable",className:"text-sm cursor-pointer",children:[a.jsx(p.Z,{className:"h-3 w-3 inline mr-1"}),"Airtable"]})]})]})]}),a.jsx(ei.Z,{orientation:"vertical",className:"h-6"}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx(P._,{className:"text-sm",children:"Type:"}),a.jsx("div",{className:"flex gap-1",children:eI.map(s=>(0,a.jsxs)(c.C,{variant:e.storyTypes.includes(s.value)?"default":"outline",className:"cursor-pointer",onClick:()=>v("storyTypes",s.value),children:[a.jsx("span",{className:"mr-1",children:s.icon}),s.label]},s.value))})]}),j>0&&(0,a.jsxs)(a.Fragment,{children:[a.jsx(ei.Z,{orientation:"vertical",className:"h-6"}),(0,a.jsxs)(d.z,{variant:"ghost",size:"sm",onClick:y,children:[a.jsx(eT,{className:"h-3 w-3 mr-1"}),"Clear (",j,")"]})]})]})})}):(0,a.jsxs)(o.Zb,{className:n,children:[a.jsx(o.Ol,{children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)(o.ll,{className:"text-base flex items-center gap-2",children:[a.jsx(C.Z,{className:"h-4 w-4"}),"Filters",j>0&&a.jsx(c.C,{variant:"secondary",className:"ml-2",children:j})]}),j>0&&a.jsx(d.z,{variant:"ghost",size:"sm",onClick:y,children:"Clear all"})]})}),(0,a.jsxs)(o.aY,{className:"space-y-6",children:[(0,a.jsxs)("div",{children:[a.jsx(P._,{className:"text-sm font-medium mb-3 block",children:"Source"}),a.jsx(el.E,{value:e.source,onValueChange:e=>g("source",e),children:(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[a.jsx(el.m,{value:"all",id:"source-all"}),a.jsx(P._,{htmlFor:"source-all",className:"text-sm cursor-pointer",children:"All Sources"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[a.jsx(el.m,{value:"local",id:"source-local"}),(0,a.jsxs)(P._,{htmlFor:"source-local",className:"text-sm cursor-pointer",children:[a.jsx(f.Z,{className:"h-3 w-3 inline mr-2"}),"Local Stories"]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[a.jsx(el.m,{value:"airtable",id:"source-airtable"}),(0,a.jsxs)(P._,{htmlFor:"source-airtable",className:"text-sm cursor-pointer",children:[a.jsx(p.Z,{className:"h-3 w-3 inline mr-2"}),"Airtable Stories"]})]})]})})]}),a.jsx(ei.Z,{}),(0,a.jsxs)("div",{children:[a.jsx(P._,{className:"text-sm font-medium mb-3 block",children:"Story Type"}),a.jsx("div",{className:"space-y-2",children:eI.map(s=>(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[a.jsx(er,{id:`type-${s.value}`,checked:e.storyTypes.includes(s.value),onCheckedChange:()=>v("storyTypes",s.value)}),(0,a.jsxs)(P._,{htmlFor:`type-${s.value}`,className:"text-sm cursor-pointer flex items-center",children:[a.jsx("span",{className:"mr-2",children:s.icon}),s.label]})]},s.value))})]}),a.jsx(ei.Z,{}),(0,a.jsxs)("div",{children:[a.jsx(P._,{className:"text-sm font-medium mb-3 block",children:"Visibility"}),a.jsx("div",{className:"space-y-2",children:eL.map(s=>{let t=s.icon;return(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[a.jsx(er,{id:`visibility-${s.value}`,checked:e.visibility.includes(s.value),onCheckedChange:()=>v("visibility",s.value)}),(0,a.jsxs)(P._,{htmlFor:`visibility-${s.value}`,className:"text-sm cursor-pointer flex items-center",children:[a.jsx(t,{className:"h-3 w-3 mr-2"}),s.label]})]},s.value)})})]}),t.length>0&&(0,a.jsxs)(a.Fragment,{children:[a.jsx(ei.Z,{}),(0,a.jsxs)("div",{children:[a.jsx(P._,{className:"text-sm font-medium mb-3 block",children:"Tags"}),a.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:t.slice(0,10).map(s=>(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[a.jsx(er,{id:`tag-${s}`,checked:e.tags.includes(s),onCheckedChange:()=>v("tags",s)}),a.jsx(P._,{htmlFor:`tag-${s}`,className:"text-sm cursor-pointer",children:s})]},s))})]})]}),l&&(0,a.jsxs)(a.Fragment,{children:[a.jsx(ei.Z,{}),(0,a.jsxs)("div",{children:[(0,a.jsxs)(d.z,{variant:"ghost",size:"sm",onClick:()=>h(!u),className:"w-full justify-between",children:["Advanced Filters",a.jsx("span",{className:"text-xs",children:u?"−":"+"})]}),u&&(0,a.jsxs)("div",{className:"space-y-4 mt-4",children:[(0,a.jsxs)("div",{children:[a.jsx(P._,{className:"text-sm mb-2 block",children:"Date Range"}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)(d.z,{variant:"outline",size:"sm",className:"w-full justify-start",onClick:()=>b("today"),children:[a.jsx(S.Z,{className:"h-3 w-3 mr-2"}),"Today"]}),(0,a.jsxs)(d.z,{variant:"outline",size:"sm",className:"w-full justify-start",onClick:()=>b("week"),children:[a.jsx(S.Z,{className:"h-3 w-3 mr-2"}),"Last 7 days"]}),(0,a.jsxs)(d.z,{variant:"outline",size:"sm",className:"w-full justify-start",onClick:()=>b("month"),children:[a.jsx(S.Z,{className:"h-3 w-3 mr-2"}),"Last month"]})]})]}),(0,a.jsxs)("div",{children:[a.jsx(P._,{className:"text-sm mb-2 block",children:"Status"}),a.jsx(el.E,{value:!0===e.published?"published":!1===e.published?"draft":"all",onValueChange:e=>{g("published","all"===e?void 0:"published"===e)},children:(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[a.jsx(el.m,{value:"all",id:"status-all"}),a.jsx(P._,{htmlFor:"status-all",className:"text-sm cursor-pointer",children:"All"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[a.jsx(el.m,{value:"published",id:"status-published"}),a.jsx(P._,{htmlFor:"status-published",className:"text-sm cursor-pointer",children:"Published only"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[a.jsx(el.m,{value:"draft",id:"status-draft"}),a.jsx(P._,{htmlFor:"status-draft",className:"text-sm cursor-pointer",children:"Drafts only"})]})]})})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[a.jsx(er,{id:"has-media",checked:!0===e.hasMedia,onCheckedChange:e=>{g("hasMedia",!!e||void 0)}}),a.jsx(P._,{htmlFor:"has-media",className:"text-sm cursor-pointer",children:"Has images or videos"})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)(P._,{className:"text-sm mb-2 block",children:["Minimum words: ",e.minWords||0]}),a.jsx(eO,{value:[e.minWords||0],onValueChange:([e])=>g("minWords",e||void 0),max:1e3,step:50,className:"w-full"})]})]})]})]})]})]})}var eq=t(88957),eH=t(825),eU=t(10441),eW=t(83078),eY=t(80699),e$=t(95011),eK=t(35664),eB=t(34214),eQ="Dialog",[eJ,eG]=(0,A.b)(eQ),[eX,e0]=eJ(eQ),e1=e=>{let{__scopeDialog:s,children:t,open:l,defaultOpen:i,onOpenChange:n,modal:o=!0}=e,c=r.useRef(null),d=r.useRef(null),[u,h]=(0,F.T)({prop:l,defaultProp:i??!1,onChange:n,caller:eQ});return(0,a.jsx)(eX,{scope:s,triggerRef:c,contentRef:d,contentId:(0,eq.M)(),titleId:(0,eq.M)(),descriptionId:(0,eq.M)(),open:u,onOpenChange:h,onOpenToggle:r.useCallback(()=>h(e=>!e),[h]),modal:o,children:t})};e1.displayName=eQ;var e2="DialogTrigger",e4=r.forwardRef((e,s)=>{let{__scopeDialog:t,...r}=e,l=e0(e2,t),i=(0,z.e)(s,l.triggerRef);return(0,a.jsx)(L.WV.button,{type:"button","aria-haspopup":"dialog","aria-expanded":l.open,"aria-controls":l.contentId,"data-state":sm(l.open),...r,ref:i,onClick:(0,E.M)(e.onClick,l.onOpenToggle)})});e4.displayName=e2;var e3="DialogPortal",[e6,e8]=eJ(e3,{forceMount:void 0}),e5=e=>{let{__scopeDialog:s,forceMount:t,children:l,container:i}=e,n=e0(e3,s);return(0,a.jsx)(e6,{scope:s,forceMount:t,children:r.Children.map(l,e=>(0,a.jsx)(I.z,{present:t||n.open,children:(0,a.jsx)(eW.h,{asChild:!0,container:i,children:e})}))})};e5.displayName=e3;var e7="DialogOverlay",e9=r.forwardRef((e,s)=>{let t=e8(e7,e.__scopeDialog),{forceMount:r=t.forceMount,...l}=e,i=e0(e7,e.__scopeDialog);return i.modal?(0,a.jsx)(I.z,{present:r||i.open,children:(0,a.jsx)(ss,{...l,ref:s})}):null});e9.displayName=e7;var se=(0,eB.Z8)("DialogOverlay.RemoveScroll"),ss=r.forwardRef((e,s)=>{let{__scopeDialog:t,...r}=e,l=e0(e7,t);return(0,a.jsx)(e$.Z,{as:se,allowPinchZoom:!0,shards:[l.contentRef],children:(0,a.jsx)(L.WV.div,{"data-state":sm(l.open),...r,ref:s,style:{pointerEvents:"auto",...r.style}})})}),st="DialogContent",sa=r.forwardRef((e,s)=>{let t=e8(st,e.__scopeDialog),{forceMount:r=t.forceMount,...l}=e,i=e0(st,e.__scopeDialog);return(0,a.jsx)(I.z,{present:r||i.open,children:i.modal?(0,a.jsx)(sr,{...l,ref:s}):(0,a.jsx)(sl,{...l,ref:s})})});sa.displayName=st;var sr=r.forwardRef((e,s)=>{let t=e0(st,e.__scopeDialog),l=r.useRef(null),i=(0,z.e)(s,t.contentRef,l);return r.useEffect(()=>{let e=l.current;if(e)return(0,eK.Ry)(e)},[]),(0,a.jsx)(si,{...e,ref:i,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:(0,E.M)(e.onCloseAutoFocus,e=>{e.preventDefault(),t.triggerRef.current?.focus()}),onPointerDownOutside:(0,E.M)(e.onPointerDownOutside,e=>{let s=e.detail.originalEvent,t=0===s.button&&!0===s.ctrlKey;(2===s.button||t)&&e.preventDefault()}),onFocusOutside:(0,E.M)(e.onFocusOutside,e=>e.preventDefault())})}),sl=r.forwardRef((e,s)=>{let t=e0(st,e.__scopeDialog),l=r.useRef(!1),i=r.useRef(!1);return(0,a.jsx)(si,{...e,ref:s,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{e.onCloseAutoFocus?.(s),s.defaultPrevented||(l.current||t.triggerRef.current?.focus(),s.preventDefault()),l.current=!1,i.current=!1},onInteractOutside:s=>{e.onInteractOutside?.(s),s.defaultPrevented||(l.current=!0,"pointerdown"!==s.detail.originalEvent.type||(i.current=!0));let a=s.target;t.triggerRef.current?.contains(a)&&s.preventDefault(),"focusin"===s.detail.originalEvent.type&&i.current&&s.preventDefault()}})}),si=r.forwardRef((e,s)=>{let{__scopeDialog:t,trapFocus:l,onOpenAutoFocus:i,onCloseAutoFocus:n,...o}=e,c=e0(st,t),d=r.useRef(null),u=(0,z.e)(s,d);return(0,eY.EW)(),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(eU.M,{asChild:!0,loop:!0,trapped:l,onMountAutoFocus:i,onUnmountAutoFocus:n,children:(0,a.jsx)(eH.XB,{role:"dialog",id:c.contentId,"aria-describedby":c.descriptionId,"aria-labelledby":c.titleId,"data-state":sm(c.open),...o,ref:u,onDismiss:()=>c.onOpenChange(!1)})}),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(sj,{titleId:c.titleId}),(0,a.jsx)(sg,{contentRef:d,descriptionId:c.descriptionId})]})]})}),sn="DialogTitle",so=r.forwardRef((e,s)=>{let{__scopeDialog:t,...r}=e,l=e0(sn,t);return(0,a.jsx)(L.WV.h2,{id:l.titleId,...r,ref:s})});so.displayName=sn;var sc="DialogDescription",sd=r.forwardRef((e,s)=>{let{__scopeDialog:t,...r}=e,l=e0(sc,t);return(0,a.jsx)(L.WV.p,{id:l.descriptionId,...r,ref:s})});sd.displayName=sc;var su="DialogClose",sh=r.forwardRef((e,s)=>{let{__scopeDialog:t,...r}=e,l=e0(su,t);return(0,a.jsx)(L.WV.button,{type:"button",...r,ref:s,onClick:(0,E.M)(e.onClick,()=>l.onOpenChange(!1))})});function sm(e){return e?"open":"closed"}sh.displayName=su;var sx="DialogTitleWarning",[sp,sf]=(0,A.k)(sx,{contentName:st,titleName:sn,docsSlug:"dialog"}),sj=({titleId:e})=>{let s=sf(sx),t=`\`${s.contentName}\` requires a \`${s.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${s.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${s.docsSlug}`;return r.useEffect(()=>{e&&document.getElementById(e)},[t,e]),null},sg=({contentRef:e,descriptionId:s})=>{let t=sf("DialogDescriptionWarning"),a=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${t.contentName}}.`;return r.useEffect(()=>{let t=e.current?.getAttribute("aria-describedby");s&&t&&document.getElementById(s)},[a,e,s]),null},sv=t(79360),sy=t(94019);let sb=r.forwardRef(({className:e,...s},t)=>a.jsx(e9,{className:(0,ea.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...s,ref:t}));sb.displayName=e9.displayName;let sN=(0,sv.j)("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),sw=r.forwardRef(({side:e="right",className:s,children:t,...r},l)=>(0,a.jsxs)(e5,{children:[a.jsx(sb,{}),(0,a.jsxs)(sa,{ref:l,className:(0,ea.cn)(sN({side:e}),s),...r,children:[t,(0,a.jsxs)(sh,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[a.jsx(sy.Z,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));sw.displayName=sa.displayName;let sk=({className:e,...s})=>a.jsx("div",{className:(0,ea.cn)("flex flex-col space-y-2 text-center sm:text-left",e),...s});sk.displayName="SheetHeader";let sC=r.forwardRef(({className:e,...s},t)=>a.jsx(so,{ref:t,className:(0,ea.cn)("text-lg font-semibold text-foreground",e),...s}));sC.displayName=so.displayName,r.forwardRef(({className:e,...s},t)=>a.jsx(sd,{ref:t,className:(0,ea.cn)("text-sm text-muted-foreground",e),...s})).displayName=sd.displayName;/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let sS=(0,N.Z)("SlidersHorizontal",[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]]);function sM({initialFilters:e={},showMobileFilters:s=!0,className:t=""}){let[l,i]=(0,r.useState)({source:"all",storyTypes:[],visibility:[],tags:[],dateRange:{enabled:!1},published:void 0,hasMedia:void 0,minWords:void 0,...e}),[n,u]=(0,r.useState)([]),[h,m]=(0,r.useState)(!1),x={source:l.source,storyType:l.storyTypes.length>0?l.storyTypes:void 0,visibility:l.visibility.length>0?l.visibility:void 0,tags:l.tags.length>0?l.tags:void 0,published:l.published,dateRange:l.dateRange.enabled?{start:l.dateRange.start,end:l.dateRange.end}:void 0},p=["all"!==l.source?1:0,l.storyTypes.length,l.visibility.length,l.tags.length,l.dateRange.enabled?1:0,void 0!==l.published?1:0,void 0!==l.hasMedia?1:0,l.minWords?1:0].reduce((e,s)=>e+s,0);return(0,a.jsxs)("div",{className:`${t}`,children:[(0,a.jsxs)("div",{className:"hidden lg:grid lg:grid-cols-4 gap-6",children:[a.jsx("div",{className:"col-span-1",children:a.jsx(eV,{filters:l,onChange:i,availableTags:n,orientation:"vertical"})}),a.jsx("div",{className:"col-span-3",children:a.jsx(_,{initialFilter:x,showHeader:!1,showStats:!1})})]}),(0,a.jsxs)("div",{className:"lg:hidden",children:[s&&a.jsx(o.Zb,{className:"mb-4",children:a.jsx(o.aY,{className:"p-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)(e1,{open:h,onOpenChange:m,children:[a.jsx(e4,{asChild:!0,children:(0,a.jsxs)(d.z,{variant:"outline",size:"sm",children:[a.jsx(sS,{className:"h-4 w-4 mr-2"}),"Filters",p>0&&a.jsx(c.C,{variant:"secondary",className:"ml-2",children:p})]})}),(0,a.jsxs)(sw,{side:"left",className:"w-[300px] sm:w-[400px]",children:[a.jsx(sk,{children:a.jsx(sC,{children:"Filter Stories"})}),a.jsx("div",{className:"mt-6",children:a.jsx(eV,{filters:l,onChange:i,availableTags:n,orientation:"vertical"})})]})]}),(0,a.jsxs)("div",{className:"flex gap-2",children:["all"!==l.source&&(0,a.jsxs)(c.C,{variant:"secondary",children:[l.source,a.jsx("button",{onClick:()=>i(e=>({...e,source:"all"})),className:"ml-1",children:a.jsx(sy.Z,{className:"h-3 w-3"})})]}),l.storyTypes.map(e=>(0,a.jsxs)(c.C,{variant:"secondary",children:[e,a.jsx("button",{onClick:()=>i(s=>({...s,storyTypes:s.storyTypes.filter(s=>s!==e)})),className:"ml-1",children:a.jsx(sy.Z,{className:"h-3 w-3"})})]},e))]})]}),p>0&&a.jsx(d.z,{variant:"ghost",size:"sm",onClick:()=>{i({source:"all",storyTypes:[],visibility:[],tags:[],dateRange:{enabled:!1},published:void 0,hasMedia:void 0,minWords:void 0})},children:"Clear all"})]})})}),a.jsx(_,{initialFilter:x,showHeader:!1,showStats:!1})]})]})}var sR=t(35047),sZ=t(61584),sD=t(77506),s_=t(36283),sP=t(79635),sz=t(24230);function sA({placeholder:e="Search stories...",onClose:s,isModal:t=!1}){let l=(0,sR.useRouter)(),[i,n]=(0,r.useState)(""),[c,h]=(0,r.useState)([]),[m,x]=(0,r.useState)(!1),[p,f]=(0,r.useState)(!1),[j,g]=(0,r.useState)(!1),v=(0,r.useRef)(null),y=(0,r.useRef)(null);(0,sZ.N)(i,300);let b=()=>{f(!1),n(""),s&&s()};return j?(0,a.jsxs)("div",{ref:v,className:t?"":"relative w-full max-w-lg",children:[a.jsx("form",{onSubmit:e=>{e.preventDefault(),i.trim()&&(l.push(`/search?q=${encodeURIComponent(i)}`),f(!1),s&&s())},children:(0,a.jsxs)("div",{className:"relative",children:[a.jsx(k.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),a.jsx(u.I,{ref:y,type:"search",placeholder:e,value:i,onChange:e=>n(e.target.value),className:"pl-10 pr-10"}),i&&a.jsx(d.z,{type:"button",variant:"ghost",size:"sm",onClick:()=>{n(""),h([]),f(!1)},className:"absolute right-2 top-1/2 transform -translate-y-1/2 h-6 w-6 p-0",children:a.jsx(sy.Z,{className:"h-4 w-4"})})]})}),p&&(i.length>=2||c.length>0)&&a.jsx(o.Zb,{className:`mt-2 ${t?"":"absolute z-50 w-full"} shadow-lg`,children:a.jsx(o.aY,{className:"p-4",children:m?a.jsx("div",{className:"flex items-center justify-center py-8",children:a.jsx(sD.Z,{className:"h-6 w-6 animate-spin text-gray-400"})}):c.length>0?(0,a.jsxs)(a.Fragment,{children:[a.jsx("div",{className:"space-y-3",children:c.map(e=>(0,a.jsxs)(D.default,{href:`/stories/${e.id}`,onClick:b,className:"block hover:bg-gray-50 dark:hover:bg-gray-800 -mx-2 px-2 py-2 rounded",children:[a.jsx("h4",{className:"font-medium text-sm mb-1",children:e.title}),a.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 line-clamp-2",children:e.excerpt}),(0,a.jsxs)("div",{className:"flex items-center gap-3 mt-2 text-xs text-gray-500",children:[(0,a.jsxs)("span",{className:"flex items-center gap-1",children:[a.jsx(s_.Z,{className:"h-3 w-3"}),e.storyType]}),e.author?.name&&(0,a.jsxs)("span",{className:"flex items-center gap-1",children:[a.jsx(sP.Z,{className:"h-3 w-3"}),e.author.name]}),e.tags.length>0&&(0,a.jsxs)("span",{className:"flex items-center gap-1",children:[a.jsx(R.Z,{className:"h-3 w-3"}),e.tags.length]})]})]},e.id))}),(0,a.jsxs)(D.default,{href:`/search?q=${encodeURIComponent(i)}`,onClick:b,className:"flex items-center justify-between mt-4 pt-4 border-t text-sm text-primary hover:underline",children:[(0,a.jsxs)("span",{children:['View all results for "',i,'"']}),a.jsx(sz.Z,{className:"h-4 w-4"})]})]}):(0,a.jsxs)("div",{className:"text-center py-8",children:[a.jsx("p",{className:"text-sm text-gray-500",children:"No results found"}),(0,a.jsxs)(D.default,{href:`/search?q=${encodeURIComponent(i)}`,onClick:b,className:"inline-flex items-center text-sm text-primary hover:underline mt-2",children:["Try advanced search",a.jsx(sz.Z,{className:"h-3 w-3 ml-1"})]})]})})})]}):a.jsx("div",{className:t?"":"relative w-full max-w-lg",children:(0,a.jsxs)("div",{className:"relative",children:[a.jsx(k.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),a.jsx(u.I,{type:"search",placeholder:e,value:"",disabled:!0,className:"pl-10 pr-10"})]})})}/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let sE=(0,N.Z)("Compass",[["path",{d:"m16.24 7.76-1.804 5.411a2 2 0 0 1-1.265 1.265L7.76 16.24l1.804-5.411a2 2 0 0 1 1.265-1.265z",key:"9ktpf1"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);var sF=t(6343),sO=t(1572),sT=t(17069);function sI(){return(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[a.jsx("div",{className:"bg-white dark:bg-gray-800 border-b",children:a.jsx("div",{className:"container mx-auto px-4 py-6",children:(0,a.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[a.jsx(sE,{className:"h-7 w-7"}),"Browse Stories"]}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Explore stories with advanced filtering and search"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[a.jsx(sA,{placeholder:"Quick search..."}),a.jsx(D.default,{href:"/stories/new",children:(0,a.jsxs)(d.z,{children:[a.jsx(sF.Z,{className:"h-4 w-4 mr-2"}),"Share Story"]})})]})]})})}),(0,a.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8",children:[a.jsx(o.Zb,{children:a.jsx(o.aY,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:a.jsx(C.Z,{className:"h-6 w-6 text-primary"})}),(0,a.jsxs)("div",{children:[a.jsx("h3",{className:"font-semibold mb-1",children:"Advanced Filters"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Filter by source, type, visibility, tags, and more"})]})]})})}),a.jsx(o.Zb,{children:a.jsx(o.aY,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:"p-2 bg-green-100 dark:bg-green-900/20 rounded-lg",children:a.jsx(k.Z,{className:"h-6 w-6 text-green-600 dark:text-green-400"})}),(0,a.jsxs)("div",{children:[a.jsx("h3",{className:"font-semibold mb-1",children:"Smart Search"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Find stories with intelligent search across all content"})]})]})})}),a.jsx(o.Zb,{children:a.jsx(o.aY,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:"p-2 bg-purple-100 dark:bg-purple-900/20 rounded-lg",children:a.jsx(sO.Z,{className:"h-6 w-6 text-purple-600 dark:text-purple-400"})}),(0,a.jsxs)("div",{children:[a.jsx("h3",{className:"font-semibold mb-1",children:"Unified Feed"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Local and Airtable stories in one seamless experience"})]})]})})})]}),a.jsx(o.Zb,{className:"mb-6",children:a.jsx(o.aY,{className:"p-4",children:(0,a.jsxs)("div",{className:"flex items-center gap-4 overflow-x-auto",children:[a.jsx("span",{className:"text-sm font-medium text-gray-600 whitespace-nowrap",children:"Quick filters:"}),(0,a.jsxs)("div",{className:"flex gap-2",children:[a.jsx(D.default,{href:"/stories/browse?preset=trending",children:(0,a.jsxs)(d.z,{variant:"outline",size:"sm",children:[a.jsx(sT.Z,{className:"h-3 w-3 mr-1"}),"Trending"]})}),a.jsx(D.default,{href:"/stories/browse?preset=recent",children:a.jsx(d.z,{variant:"outline",size:"sm",children:"Recent"})}),a.jsx(D.default,{href:"/stories/browse?preset=milestones",children:a.jsx(d.z,{variant:"outline",size:"sm",children:"Milestones"})}),a.jsx(D.default,{href:"/stories/browse?preset=challenges",children:a.jsx(d.z,{variant:"outline",size:"sm",children:"Challenges"})}),a.jsx(D.default,{href:"/stories/browse?preset=achievements",children:a.jsx(d.z,{variant:"outline",size:"sm",children:"Achievements"})})]})]})})}),a.jsx(sM,{initialFilters:{source:"all",published:!0}})]})]})}},38227:(e,s,t)=>{"use strict";t.d(s,{O:()=>l});var a=t(10326),r=t(51223);function l({className:e,...s}){return a.jsx("div",{className:(0,r.cn)("animate-pulse rounded-md bg-muted",e),...s})}},61584:(e,s,t)=>{"use strict";t.d(s,{N:()=>r});var a=t(17577);function r(e,s){let[t,r]=(0,a.useState)(e);return t}},1353:(e,s,t)=>{"use strict";t.r(s),t.d(s,{$$typeof:()=>i,__esModule:()=>l,default:()=>n});var a=t(68570);let r=(0,a.createProxy)(String.raw`/Users/benknight/Code/JusticeHub/src/app/stories/browse/page.tsx`),{__esModule:l,$$typeof:i}=r;r.default;let n=(0,a.createProxy)(String.raw`/Users/benknight/Code/JusticeHub/src/app/stories/browse/page.tsx#default`)},10119:(e,s,t)=>{"use strict";t.d(s,{D:()=>d});var a=t(17577),r=t(71180),l=t(12113),i=t(64351),n=t(3341),o=class extends i.l{#e;#s=void 0;#t;#a;constructor(e,s){super(),this.#e=e,this.setOptions(s),this.bindMethods(),this.#r()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){let s=this.options;this.options=this.#e.defaultMutationOptions(e),(0,n.VS)(this.options,s)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#t,observer:this}),s?.mutationKey&&this.options.mutationKey&&(0,n.Ym)(s.mutationKey)!==(0,n.Ym)(this.options.mutationKey)?this.reset():this.#t?.state.status==="pending"&&this.#t.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#t?.removeObserver(this)}onMutationUpdate(e){this.#r(),this.#l(e)}getCurrentResult(){return this.#s}reset(){this.#t?.removeObserver(this),this.#t=void 0,this.#r(),this.#l()}mutate(e,s){return this.#a=s,this.#t?.removeObserver(this),this.#t=this.#e.getMutationCache().build(this.#e,this.options),this.#t.addObserver(this),this.#t.execute(e)}#r(){let e=this.#t?.state??(0,r.R)();this.#s={...e,isPending:"pending"===e.status,isSuccess:"success"===e.status,isError:"error"===e.status,isIdle:"idle"===e.status,mutate:this.mutate,reset:this.reset}}#l(e){l.Vr.batch(()=>{if(this.#a&&this.hasListeners()){let s=this.#s.variables,t=this.#s.context;e?.type==="success"?(this.#a.onSuccess?.(e.data,s,t),this.#a.onSettled?.(e.data,null,s,t)):e?.type==="error"&&(this.#a.onError?.(e.error,s,t),this.#a.onSettled?.(void 0,e.error,s,t))}this.listeners.forEach(e=>{e(this.#s)})})}},c=t(44976);function d(e,s){let t=(0,c.NL)(s),[r]=a.useState(()=>new o(t,e));a.useEffect(()=>{r.setOptions(e)},[r,e]);let i=a.useSyncExternalStore(a.useCallback(e=>r.subscribe(l.Vr.batchCalls(e)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),d=a.useCallback((e,s)=>{r.mutate(e,s).catch(n.ZT)},[r]);if(i.error&&(0,n.L3)(r.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:d,mutateAsync:i.mutate}}}};var s=require("../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),a=s.X(0,[8948,8447,5981,9642,9404,8407,1812,108,3452,8623],()=>t(75884));module.exports=a})();